<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>MyBatis 04：对象关系映射、延迟加载、关联对象的配置选择 | Somuns ` Tao</title><meta name="description" content="MyBatis 是一款优秀的持久层框架"><meta name="keywords" content="MyBatis"><meta name="author" content="陈涛"><meta name="copyright" content="陈涛"><meta name="format-detection" content="telephone=no"><link rel="shortcut icon" href="/img/favicon.png"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="dns-prefetch" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="https://fonts.googleapis.com" crossorigin="crossorigin"/><link rel="dns-prefetch" href="https://fonts.googleapis.com"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="dns-prefetch" href="//busuanzi.ibruce.info"/><meta name="twitter:card" content="summary"><meta name="twitter:title" content="MyBatis 04：对象关系映射、延迟加载、关联对象的配置选择"><meta name="twitter:description" content="MyBatis 是一款优秀的持久层框架"><meta name="twitter:image" content="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg"><meta property="og:type" content="article"><meta property="og:title" content="MyBatis 04：对象关系映射、延迟加载、关联对象的配置选择"><meta property="og:url" content="https://somunstao.github.io/2020/02/14/MyBatis%2004%EF%BC%9A%E5%AF%B9%E8%B1%A1%E5%85%B3%E7%B3%BB%E6%98%A0%E5%B0%84%E3%80%81%E5%BB%B6%E8%BF%9F%E5%8A%A0%E8%BD%BD%E3%80%81%E5%85%B3%E8%81%94%E5%AF%B9%E8%B1%A1%E7%9A%84%E9%85%8D%E7%BD%AE%E9%80%89%E6%8B%A9/"><meta property="og:site_name" content="Somuns ` Tao"><meta property="og:description" content="MyBatis 是一款优秀的持久层框架"><meta property="og:image" content="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg"><meta property="article:published_time" content="2020-02-13T16:00:00.000Z"><meta property="article:modified_time" content="2020-08-02T06:52:52.212Z"><script src="https://cdn.jsdelivr.net/npm/js-cookie/dist/js.cookie.min.js"></script><script>var autoChangeMode = '1'
var t = Cookies.get("theme")
if (autoChangeMode == '1'){
  var isDarkMode = window.matchMedia("(prefers-color-scheme: dark)").matches
  var isLightMode = window.matchMedia("(prefers-color-scheme: light)").matches
  var isNotSpecified = window.matchMedia("(prefers-color-scheme: no-preference)").matches
  var hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

  if (t === undefined){
    if (isLightMode) activateLightMode()
    else if (isDarkMode) activateDarkMode()
    else if (isNotSpecified || hasNoSupport){
      console.log('You specified no preference for a color scheme or your browser does not support it. I Schedule dark mode during night time.')
      var now = new Date()
      var hour = now.getHours()
      var isNight = hour < 6 || hour >= 18
      isNight ? activateDarkMode() : activateLightMode()
  }
  } else if (t == 'light') activateLightMode()
  else activateDarkMode()

} else if (autoChangeMode == '2'){
  now = new Date();
  hour = now.getHours();
  isNight = hour < 6 || hour >= 18
  if(t === undefined) isNight? activateDarkMode() : activateLightMode()
  else if (t === 'light') activateLightMode()
  else activateDarkMode() 
} else {
  if ( t == 'dark' ) activateDarkMode()
  else if ( t == 'light') activateLightMode()
}

function activateDarkMode(){
  document.documentElement.setAttribute('data-theme', 'dark')
  if (document.querySelector('meta[name="theme-color"]') !== null){
    document.querySelector('meta[name="theme-color"]').setAttribute('content','#000')
  }
}
function activateLightMode(){
  document.documentElement.setAttribute('data-theme', 'light')
  if (document.querySelector('meta[name="theme-color"]') !== null){
  document.querySelector('meta[name="theme-color"]').setAttribute('content','#fff')
  }
}</script><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css"><link rel="canonical" href="https://somunstao.github.io/2020/02/14/MyBatis%2004%EF%BC%9A%E5%AF%B9%E8%B1%A1%E5%85%B3%E7%B3%BB%E6%98%A0%E5%B0%84%E3%80%81%E5%BB%B6%E8%BF%9F%E5%8A%A0%E8%BD%BD%E3%80%81%E5%85%B3%E8%81%94%E5%AF%B9%E8%B1%A1%E7%9A%84%E9%85%8D%E7%BD%AE%E9%80%89%E6%8B%A9/"><link rel="prev" title="MyBatis 05：MyBatis：分页的实现" href="https://somunstao.github.io/2020/02/15/MyBatis%2005%EF%BC%9A%E5%88%86%E9%A1%B5%E7%9A%84%E5%AE%9E%E7%8E%B0/"><link rel="next" title="MyBatis 03：动态SQL、if、where、set、foreach、sql片段" href="https://somunstao.github.io/2020/02/13/MyBatis%2003%EF%BC%9A%E5%8A%A8%E6%80%81SQL%E3%80%81if%E3%80%81where%E3%80%81set%E3%80%81foreach%E3%80%81sql%E7%89%87%E6%AE%B5/"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Titillium+Web"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: {"defaultEncoding":2,"translateDelay":0,"cookieDomain":"https://xxx/","msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  bookmark: {
    message_prev: '按',
    message_next: '键将本页加入书签'
  },
  runtime_unit: '天',
  runtime: true,
  copyright: undefined,
  ClickShowText: undefined,
  medium_zoom: false,
  fancybox: true,
  Snackbar: undefined,
  baiduPush: false,
  highlightCopy: true,
  highlightLang: true,
  highlightShrink: 'false',
  isFontAwesomeV5: true,
  isPhotoFigcaption: false,
  islazyload: false,
  isanchor: false
  
}</script><script>var GLOBAL_CONFIG_SITE = { 
  isPost: true,
  isHome: false,
  isSidebar: true  
  }</script><noscript><style>
#page-header {
  opacity: 1
}
.justified-gallery img{
  opacity: 1
}
</style></noscript><meta name="generator" content="Hexo 4.2.0"><link rel="alternate" href="/atom.xml" title="Somuns ` Tao" type="application/atom+xml">
</head><body><div id="mobile-sidebar"><div id="menu_mask"></div><div id="mobile-sidebar-menus"><div class="mobile_author_icon"><img class="avatar-img" src="/img/avatar.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="mobile_post_data"><div class="mobile_data_item is-center"><div class="mobile_data_link"><a href="/archives/"><div class="headline">文章</div><div class="length_num">133</div></a></div></div><div class="mobile_data_item is-center">      <div class="mobile_data_link"><a href="/tags/"><div class="headline">标签</div><div class="length_num">11</div></a></div></div><div class="mobile_data_item is-center">     <div class="mobile_data_link"><a href="/categories/"><div class="headline">分类</div><div class="length_num">11</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> 時間軸</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> 留言板</span></a></div></div></div></div><i class="fa fa-arrow-right on" id="toggle-sidebar" aria-hidden="true">     </i><div id="sidebar"><div class="sidebar-toc"><div class="sidebar-toc__title">目录</div><div class="sidebar-toc__progress"><span class="progress-notice">你已经读了</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar">     </div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#MyBatis-04——对象关系映射、延迟加载、关联对象的配置选择"><span class="toc-number">1.</span> <span class="toc-text">MyBatis 04——对象关系映射、延迟加载、关联对象的配置选择</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#目录"><span class="toc-number">1.1.</span> <span class="toc-text">目录</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#多对一-关系在多的一方"><span class="toc-number">2.</span> <span class="toc-text">多对一(关系在多的一方)</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#表设计"><span class="toc-number">2.0.0.0.0.1.</span> <span class="toc-text">表设计</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#模型对象设计"><span class="toc-number">2.0.0.0.0.2.</span> <span class="toc-text">模型对象设计</span></a></li></ol></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1、保存员工、部门信息"><span class="toc-number">2.0.0.1.</span> <span class="toc-text">1、保存员工、部门信息</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#mapper"><span class="toc-number">2.0.0.1.0.1.</span> <span class="toc-text">mapper</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#测试类"><span class="toc-number">2.0.0.1.0.2.</span> <span class="toc-text">测试类</span></a></li></ol></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2、根据id查询员工信息"><span class="toc-number">2.0.0.2.</span> <span class="toc-text">2、根据id查询员工信息</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#mapper-1"><span class="toc-number">2.0.0.2.0.1.</span> <span class="toc-text">mapper</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#测试类-1"><span class="toc-number">2.0.0.2.0.2.</span> <span class="toc-text">测试类</span></a></li></ol></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3、额外SQL的N-1问题"><span class="toc-number">2.0.0.3.</span> <span class="toc-text">3、额外SQL的N+1问题</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4、内联映射-处理结果集和对象属性的不匹配"><span class="toc-number">2.0.0.4.</span> <span class="toc-text">4、内联映射(处理结果集和对象属性的不匹配)</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#mapper-2"><span class="toc-number">2.0.0.4.0.1.</span> <span class="toc-text">mapper</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#测试类-2"><span class="toc-number">2.0.0.4.0.2.</span> <span class="toc-text">测试类</span></a></li></ol></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5、总结-多对一配置"><span class="toc-number">2.0.0.5.</span> <span class="toc-text">5、总结 (多对一配置)</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#一对多-关系在一的一方"><span class="toc-number">3.</span> <span class="toc-text">一对多(关系在一的一方)</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#表设计-1"><span class="toc-number">3.0.0.0.0.1.</span> <span class="toc-text">表设计</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#模型对象设计-1"><span class="toc-number">3.0.0.0.0.2.</span> <span class="toc-text">模型对象设计</span></a></li></ol></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1、保存员工、部门信息-1"><span class="toc-number">3.0.0.1.</span> <span class="toc-text">1、保存员工、部门信息</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#mapper-3"><span class="toc-number">3.0.0.1.0.1.</span> <span class="toc-text">mapper</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#测试类-3"><span class="toc-number">3.0.0.1.0.2.</span> <span class="toc-text">测试类</span></a></li></ol></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2、根据id查询员工信息-1"><span class="toc-number">3.0.0.2.</span> <span class="toc-text">2、根据id查询员工信息</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#mapper-4"><span class="toc-number">3.0.0.2.0.1.</span> <span class="toc-text">mapper</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#测试类-4"><span class="toc-number">3.0.0.2.0.2.</span> <span class="toc-text">测试类</span></a></li></ol></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3、内联映射-处理结果集和对象属性的不匹配"><span class="toc-number">3.0.0.3.</span> <span class="toc-text">3、内联映射(处理结果集和对象属性的不匹配)</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#mapper-5"><span class="toc-number">3.0.0.3.0.1.</span> <span class="toc-text">mapper</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#测试类-5"><span class="toc-number">3.0.0.3.0.2.</span> <span class="toc-text">测试类</span></a></li></ol></li></ol></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#延迟加载"><span class="toc-number">4.</span> <span class="toc-text">延迟加载</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#关联对象的配置选择"><span class="toc-number">4.1.</span> <span class="toc-text">关联对象的配置选择</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#多对多-单向-关系在学生方"><span class="toc-number">5.</span> <span class="toc-text">多对多(单向-关系在学生方)</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#表设计-2"><span class="toc-number">5.0.0.0.0.1.</span> <span class="toc-text">表设计</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#模型对象设计-2"><span class="toc-number">5.0.0.0.0.2.</span> <span class="toc-text">模型对象设计</span></a></li></ol></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1、保存学生、老师和中间表的信息"><span class="toc-number">5.0.0.1.</span> <span class="toc-text">1、保存学生、老师和中间表的信息</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#mapper-6"><span class="toc-number">5.0.0.1.0.1.</span> <span class="toc-text">mapper</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#测试类-6"><span class="toc-number">5.0.0.1.0.2.</span> <span class="toc-text">测试类</span></a></li></ol></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2、删除指定id的学生"><span class="toc-number">5.0.0.2.</span> <span class="toc-text">2、删除指定id的学生</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#mapper-7"><span class="toc-number">5.0.0.2.0.1.</span> <span class="toc-text">mapper</span></a></li></ol></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3、根据id查询学生信息-包括学生的老师们"><span class="toc-number">5.0.0.3.</span> <span class="toc-text">3、根据id查询学生信息(包括学生的老师们)</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#mapper-8"><span class="toc-number">5.0.0.3.0.1.</span> <span class="toc-text">mapper</span></a></li></ol></li></ol></li></ol></li></ol></li></ol></li></ol></div></div></div><div id="body-wrap"><div class="post-bg" id="nav" style="background-image: url(https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg)"><div id="page-header"><span class="pull_left" id="blog_name"><a class="blog_title" id="site-name" href="/">Somuns ` Tao</a></span><span class="pull_right menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> 時間軸</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> 留言板</span></a></div></div><span class="toggle-menu close"><a class="site-page"><i class="fa fa-bars fa-fw" aria-hidden="true"></i></a></span></span></div><div id="post-info"><div id="post-title"><div class="posttitle">MyBatis 04：对象关系映射、延迟加载、关联对象的配置选择</div></div><div id="post-meta"><div class="meta-firstline"><time class="post-meta__date"><span class="post-meta__date-created" title="发表于 2020-02-14 00:00:00"><i class="fa fa-calendar" aria-hidden="true"></i> 发表于 2020-02-14</span><span class="post-meta__separator">|</span><span class="post-meta__date-updated" title="更新于 2020-08-02 14:52:52"><i class="fa fa-history" aria-hidden="true"></i> 更新于 2020-08-02</span></time><span class="post-meta__categories"><span class="post-meta__separator">|</span><i class="fa fa-inbox post-meta__icon" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/MyBatis/">MyBatis</a></span></div><div class="meta-secondline"> </div><div class="meta-thirdline"><span class="post-meta-pv-cv"><i class="fa fa-eye post-meta__icon" aria-hidden="true"> </i><span>阅读量:</span><span id="busuanzi_value_page_pv"></span></span><span class="post-meta-commentcount"></span></div></div></div></div><main class="layout_post" id="content-inner"><article id="post"><div class="post-content" id="article-container"><p>​    </p>
<h1 id="MyBatis-04——对象关系映射、延迟加载、关联对象的配置选择"><a href="#MyBatis-04——对象关系映射、延迟加载、关联对象的配置选择" class="headerlink" title="MyBatis 04——对象关系映射、延迟加载、关联对象的配置选择"></a>MyBatis 04——对象关系映射、延迟加载、关联对象的配置选择</h1><h2 id="目录"><a href="#目录" class="headerlink" title="目录"></a>目录</h2><ul>
<li>多对一关系<ul>
<li><a href="https://blog.csdn.net/m0_37989980/article/details/104510120#j2" target="_blank" rel="noopener">1、保存员工、部门信息</a></li>
<li><a href="https://blog.csdn.net/m0_37989980/article/details/104510120#j3" target="_blank" rel="noopener">2、根据id查询员工信息</a></li>
<li><a href="https://blog.csdn.net/m0_37989980/article/details/104510120#j4" target="_blank" rel="noopener">3、额外SQL的N+1问题</a></li>
<li><a href="https://blog.csdn.net/m0_37989980/article/details/104510120#j5" target="_blank" rel="noopener">4、内联映射(处理结果集和对象属性的不匹配)</a></li>
<li><a href="https://blog.csdn.net/m0_37989980/article/details/104510120#j6" target="_blank" rel="noopener">5、总结 (多对一配置)</a></li>
</ul>
</li>
<li>一对多关系<ul>
<li><a href="https://blog.csdn.net/m0_37989980/article/details/104510120#j8" target="_blank" rel="noopener">1、保存员工、部门信息</a></li>
<li><a href="https://blog.csdn.net/m0_37989980/article/details/104510120#j9" target="_blank" rel="noopener">2、根据id查询员工信息</a></li>
<li><a href="https://blog.csdn.net/m0_37989980/article/details/104510120#j10" target="_blank" rel="noopener">3、内联映射(处理结果集和对象属性的不匹配)</a></li>
</ul>
</li>
<li><a href="https://blog.csdn.net/m0_37989980/article/details/104510120#j11" target="_blank" rel="noopener">延迟加载</a></li>
<li><a href="https://blog.csdn.net/m0_37989980/article/details/104510120#j12" target="_blank" rel="noopener">关联对象的配置选择</a></li>
<li>多对多关系<ul>
<li><a href="https://blog.csdn.net/m0_37989980/article/details/104510120#j14" target="_blank" rel="noopener">1、保存学生、老师、中间表的信息</a></li>
<li><a href="https://blog.csdn.net/m0_37989980/article/details/104510120#j15" target="_blank" rel="noopener">2、删除指定id的学生</a></li>
<li><a href="https://blog.csdn.net/m0_37989980/article/details/104510120#j16" target="_blank" rel="noopener">3、查询指定id的学生(包括该id学生的老师)</a></li>
</ul>
</li>
</ul>
<p><img src="https://img-blog.csdnimg.cn/20200221095323566.png" alt="在这里插入图片描述"></p>
<blockquote>
<p>MyBatis源码及资料: <a href="https://github.com/coderZYGui/MyBatis-Study" target="_blank" rel="noopener">https://github.com/coderZYGui/MyBatis-Study</a></p>
</blockquote>
<blockquote>
<p>MyBatis系列</p>
<ol>
<li><a href="https://blog.csdn.net/m0_37989980/article/details/104423309" target="_blank" rel="noopener">MyBatis — ORM思想、MyBatis概述、日志框架、OGNL</a></li>
<li><a href="https://blog.csdn.net/m0_37989980/article/details/104445142" target="_blank" rel="noopener">MyBaits — MyBatis的CRUD操作、别名配置、属性配置、查询结果映射、Mapper组件、参数处理、注解开发</a></li>
<li><a href="https://blog.csdn.net/m0_37989980/article/details/104438897" target="_blank" rel="noopener">MyBatis — 动态SQL、if、where、set、foreach、sql片段</a></li>
<li><a href="https://blog.csdn.net/m0_37989980/article/details/104510120" target="_blank" rel="noopener">MyBatis — 对象关系映射、延迟加载、关联对象的配置选择</a></li>
<li><a href="https://blog.csdn.net/m0_37989980/article/details/104519539" target="_blank" rel="noopener">MyBatis — 缓存机制、EhCache第三方缓存</a></li>
<li><a href="https://blog.csdn.net/m0_37989980/article/details/104521920" target="_blank" rel="noopener">MyBatis — MyBatis Generator插件使用(配置详解)</a></li>
</ol>
</blockquote>
<hr>
<p>方便了解 <strong>关联关系</strong>的各种关系,请先参考: <a href="https://blog.csdn.net/m0_37989980/article/details/104470064" target="_blank" rel="noopener">UML一一 类图关系 (泛化、实现、依赖、关联、聚合、组合)</a></p>
<h1 id="多对一-关系在多的一方"><a href="#多对一-关系在多的一方" class="headerlink" title="多对一(关系在多的一方)"></a>多对一(关系在多的一方)</h1><p><a href="https://blog.csdn.net/m0_37989980/article/details/104510120#j0" target="_blank" rel="noopener">跳转到目录</a></p>
<ul>
<li>案例: 多个员工对象属于同一个部门对象</li>
<li>1、保存员工部门信息</li>
<li>2、根据id来查询员工信息</li>
<li>3、查询所有用户</li>
</ul>
<h6 id="表设计"><a href="#表设计" class="headerlink" title="表设计"></a>表设计</h6><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> <span class="string">`employee1`</span> (</span><br><span class="line">  <span class="string">`id`</span> <span class="built_in">bigint</span>(<span class="number">20</span>) <span class="keyword">NOT</span> <span class="literal">NULL</span> AUTO_INCREMENT,</span><br><span class="line">  <span class="string">`name`</span> <span class="built_in">varchar</span>(<span class="number">20</span>) <span class="keyword">DEFAULT</span> <span class="literal">NULL</span>,</span><br><span class="line">  <span class="string">`dept_id`</span> <span class="built_in">bigint</span>(<span class="number">20</span>) <span class="keyword">DEFAULT</span> <span class="literal">NULL</span>,</span><br><span class="line">  PRIMARY <span class="keyword">KEY</span> (<span class="string">`id`</span>)</span><br><span class="line">) <span class="keyword">ENGINE</span>=<span class="keyword">InnoDB</span> AUTO_INCREMENT=<span class="number">11</span> <span class="keyword">DEFAULT</span> <span class="keyword">CHARSET</span>=utf8;</span><br><span class="line">123456</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> <span class="string">`department1`</span> (</span><br><span class="line">  <span class="string">`id`</span> <span class="built_in">bigint</span>(<span class="number">20</span>) <span class="keyword">NOT</span> <span class="literal">NULL</span> AUTO_INCREMENT,</span><br><span class="line">  <span class="string">`name`</span> <span class="built_in">varchar</span>(<span class="number">20</span>) <span class="keyword">DEFAULT</span> <span class="literal">NULL</span>,</span><br><span class="line">  PRIMARY <span class="keyword">KEY</span> (<span class="string">`id`</span>)</span><br><span class="line">) <span class="keyword">ENGINE</span>=<span class="keyword">InnoDB</span> AUTO_INCREMENT=<span class="number">43</span> <span class="keyword">DEFAULT</span> <span class="keyword">CHARSET</span>=utf8;</span><br><span class="line">12345</span><br></pre></td></tr></table></figure>

<h6 id="模型对象设计"><a href="#模型对象设计" class="headerlink" title="模型对象设计"></a>模型对象设计</h6><p>Employee类<br><img src="https://img-blog.csdnimg.cn/20200226082938656.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzM3OTg5OTgw,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>Department类<br><img src="https://img-blog.csdnimg.cn/20200226083029799.png" alt="在这里插入图片描述"></p>
<h4 id="1、保存员工、部门信息"><a href="#1、保存员工、部门信息" class="headerlink" title="1、保存员工、部门信息"></a>1、保存员工、部门信息</h4><p><a href="https://blog.csdn.net/m0_37989980/article/details/104510120#j0" target="_blank" rel="noopener">跳转到目录</a></p>
<h6 id="mapper"><a href="#mapper" class="headerlink" title="mapper"></a>mapper</h6><p>EmployeeMapper</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line">	// 保存员工信息</span><br><span class="line">	void save(Employee emp);</span><br><span class="line"></span><br><span class="line">	<span class="comment">&lt;!--保存员工信息--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">insert</span> <span class="attr">id</span>=<span class="string">"save"</span> <span class="attr">useGeneratedKeys</span>=<span class="string">"true"</span> <span class="attr">keyProperty</span>=<span class="string">"id"</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--save方法中的参数emp对象中取属性--&gt;</span></span><br><span class="line">        INSERT INTO employee1(name, dept_id) VALUES (#&#123;name&#125;, #&#123;dept.id&#125;)</span><br><span class="line">    <span class="tag">&lt;/<span class="name">insert</span>&gt;</span></span><br><span class="line">12345678</span><br></pre></td></tr></table></figure>

<p>DepartmentMapper</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line">	// 保存一个部门</span><br><span class="line">	void save(Department dept);</span><br><span class="line"></span><br><span class="line">	<span class="comment">&lt;!--保存部门,要生成部门ID,因为在员工表中要使用到部门的主键ID,作为外键--&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">insert</span> <span class="attr">id</span>=<span class="string">"save"</span> <span class="attr">useGeneratedKeys</span>=<span class="string">"true"</span> <span class="attr">keyProperty</span>=<span class="string">"id"</span>&gt;</span></span><br><span class="line">		INSERT INTO department1(name) VALUES (#&#123;name&#125;)</span><br><span class="line">	<span class="tag">&lt;/<span class="name">insert</span>&gt;</span></span><br><span class="line">	</span><br><span class="line">12345678</span><br></pre></td></tr></table></figure>

<h6 id="测试类"><a href="#测试类" class="headerlink" title="测试类"></a>测试类</h6><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 测试保存操作</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="comment">// 创建部门对象</span></span><br><span class="line">        Department dept = <span class="keyword">new</span> Department();</span><br><span class="line">        dept.setName(<span class="string">"开发部"</span>);</span><br><span class="line">        <span class="comment">// 创建员工对象</span></span><br><span class="line">        Employee emp = <span class="keyword">new</span> Employee();</span><br><span class="line">        emp.setName(<span class="string">"张三"</span>);</span><br><span class="line">        emp.setDept(dept);  <span class="comment">// 将张三分配到开发部中</span></span><br><span class="line">        Employee emp2 = <span class="keyword">new</span> Employee();</span><br><span class="line">        emp2.setName(<span class="string">"李四"</span>);</span><br><span class="line">        emp2.setDept(dept); <span class="comment">// 将李四分配到开发部中</span></span><br><span class="line"></span><br><span class="line">        SqlSession sqlSession = MybatisUtils.getSqlSession();</span><br><span class="line">        DepartmentMapper departmentMapper = sqlSession.getMapper(DepartmentMapper<span class="class">.<span class="keyword">class</span>)</span>;</span><br><span class="line">        EmployeeMapper employeeMapper = sqlSession.getMapper(EmployeeMapper<span class="class">.<span class="keyword">class</span>)</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 保存操作:先保存部门(one方)因为,员工表中需要依赖于部门ID,先保存员工信息,部门信息可能为空</span></span><br><span class="line">        departmentMapper.save(dept);</span><br><span class="line">        employeeMapper.save(emp);</span><br><span class="line">        employeeMapper.save(emp2);</span><br><span class="line"></span><br><span class="line">        sqlSession.commit();</span><br><span class="line">        sqlSession.close();</span><br><span class="line">    &#125;</span><br><span class="line"><span class="number">12345678910111213141516171819202122232425262728</span></span><br></pre></td></tr></table></figure>

<p><img src="https://img-blog.csdnimg.cn/20200226085840121.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzM3OTg5OTgw,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
<h4 id="2、根据id查询员工信息"><a href="#2、根据id查询员工信息" class="headerlink" title="2、根据id查询员工信息"></a>2、根据id查询员工信息</h4><p><a href="https://blog.csdn.net/m0_37989980/article/details/104510120#j0" target="_blank" rel="noopener">跳转到目录</a><br>通过<code>额外SQL</code></p>
<h6 id="mapper-1"><a href="#mapper-1" class="headerlink" title="mapper"></a>mapper</h6><p>EmployeeMapper</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line">	// 根据id来查询员工信息</span><br><span class="line">	Employee getUserById(long empId);</span><br><span class="line"></span><br><span class="line">	<span class="comment">&lt;!--当前得到的结果集和对象的属性不匹配--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">resultMap</span> <span class="attr">id</span>=<span class="string">"BaseResultMap"</span> <span class="attr">type</span>=<span class="string">"Employee"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">result</span> <span class="attr">column</span>=<span class="string">"id"</span> <span class="attr">property</span>=<span class="string">"id"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">result</span> <span class="attr">column</span>=<span class="string">"name"</span> <span class="attr">property</span>=<span class="string">"name"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">result</span> <span class="attr">column</span>=<span class="string">"dept_id"</span> <span class="attr">property</span>=<span class="string">"dept.id"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">resultMap</span>&gt;</span></span><br><span class="line">	<span class="comment">&lt;!--根据id来查询用户信息--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">"getUserById"</span> <span class="attr">resultMap</span>=<span class="string">"BaseResultMap"</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--getUserById方法中的参数是普通类型,这里直接写id即可--&gt;</span></span><br><span class="line">        SELECT id, name, dept_id FROM employee1 WHERE id = #&#123;id&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line">1234567891011121314</span><br></pre></td></tr></table></figure>

<p>DepartmentMapper</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line">    // 根据部门的id查询出部门对象</span><br><span class="line">    Department getDeptById(Long deptId);</span><br><span class="line"></span><br><span class="line">	<span class="comment">&lt;!--通过部门id,查询出部门对象--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">"getDeptById"</span> <span class="attr">resultType</span>=<span class="string">"Department"</span>&gt;</span></span><br><span class="line">        SELECT id, name FROM department1 WHERE id = #&#123;id&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line">1234567</span><br></pre></td></tr></table></figure>

<h6 id="测试类-1"><a href="#测试类-1" class="headerlink" title="测试类"></a>测试类</h6><blockquote>
<p>因为获取的结果集中的列名和对象的属性名不匹配,设置resultMap解决不匹配问题,<br>但是结果集中的id列,不能和对象中的dept对象匹配,只能和对象dept的属性id匹配<br>所以,能获取到部门的id,但是期望得到的是Department对象</p>
</blockquote>
<blockquote>
<p>解决方案: 根据部门的id,再 额外 发送一条SQL语句,查询出 部门对象 ,把部门对象设置给员工即可!</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 根据id来查询员工信息</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test1</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        SqlSession sqlSession = MybatisUtils.getSqlSession();</span><br><span class="line">        EmployeeMapper employeeMapper = sqlSession.getMapper(EmployeeMapper<span class="class">.<span class="keyword">class</span>)</span>;</span><br><span class="line">        DepartmentMapper departmentMapper = sqlSession.getMapper(DepartmentMapper<span class="class">.<span class="keyword">class</span>)</span>;</span><br><span class="line">        Employee employee = employeeMapper.getUserById(<span class="number">2L</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// -------------------------------------</span></span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">            因为获取的结果集中的列名和对象的属性名不匹配,设置resultMap解决不匹配问题,</span></span><br><span class="line"><span class="comment">               但是结果集中的id列,不能和对象中的dept对象匹配,只能和对象dept的属性id匹配</span></span><br><span class="line"><span class="comment">               所以,能获取到部门的id,但是期望得到的是Department对象</span></span><br><span class="line"><span class="comment">            解决方案: 根据部门的id,再 额外 发送一条SQL语句,查询出 部门对象 ,把部门对象设置给员工即可!</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 下面三行代码让,MyBatis完成,需要在resultMap中配置</span></span><br><span class="line">        Long deptId = employee.getDept().getId();</span><br><span class="line">        <span class="comment">// 根据部门id来查询出,部门对象</span></span><br><span class="line">        Department department = departmentMapper.getDeptById(deptId);</span><br><span class="line">        employee.setDept(department);</span><br><span class="line"></span><br><span class="line">        System.out.println(employee);</span><br><span class="line">        System.out.println(employee.getDept());</span><br><span class="line">    &#125;</span><br><span class="line"><span class="number">12345678910111213141516171819202122232425262728</span></span><br></pre></td></tr></table></figure>

<p><img src="https://img-blog.csdnimg.cn/20200226103620292.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzM3OTg5OTgw,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>在测试方法中不想自己手动发额外的SQL怎么办呢?MyBatis可以帮我们完成,这就需要在<code>resultMap</code>中配置一下</p>
<p><strong>额外SQL的配置方式</strong></p>
<ul>
<li><p><strong>association元素</strong></p>
<p>: 配置单一元素(非数组、集合)的关联对象</p>
<ul>
<li>property属性: 关联对象的属性名; 这里跟的就是Employee中的属性名称</li>
<li>javaType属性: 关联对象属性类型</li>
<li>select属性: 发送额外的SQL</li>
<li>column属性: 指定列的值,传递给SQL语句</li>
</ul>
</li>
</ul>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--当前得到的结果集和对象的属性不匹配--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">resultMap</span> <span class="attr">id</span>=<span class="string">"BaseResultMap"</span> <span class="attr">type</span>=<span class="string">"Employee"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">result</span> <span class="attr">column</span>=<span class="string">"id"</span> <span class="attr">property</span>=<span class="string">"id"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">result</span> <span class="attr">column</span>=<span class="string">"name"</span> <span class="attr">property</span>=<span class="string">"name"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">result</span> <span class="attr">column</span>=<span class="string">"dept_id"</span> <span class="attr">property</span>=<span class="string">"dept.id"</span>/&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">            额外SQL的配置方式</span></span><br><span class="line"><span class="comment">            association元素: 配置单一元素(非数组、集合)的关联对象</span></span><br><span class="line"><span class="comment">                property属性: 关联对象的属性名; 这里跟的就是Employee中的属性名称</span></span><br><span class="line"><span class="comment">                javaType属性: 关联对象属性类型</span></span><br><span class="line"><span class="comment">                select属性: 发送额外的SQL</span></span><br><span class="line"><span class="comment">                column属性: 指定列的值,传递给SQL语句</span></span><br><span class="line"><span class="comment">        --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">association</span> <span class="attr">property</span>=<span class="string">"dept"</span> <span class="attr">javaType</span>=<span class="string">"Department"</span></span></span><br><span class="line"><span class="tag">                     <span class="attr">select</span>=<span class="string">"com.sunny.mapper.StudentMapper.getDeptById"</span></span></span><br><span class="line"><span class="tag">                     <span class="attr">column</span>=<span class="string">"dept_id"</span></span></span><br><span class="line"><span class="tag">        /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">resultMap</span>&gt;</span></span><br><span class="line">123456789101112131415161718</span><br></pre></td></tr></table></figure>

<p>这样以来,就不用了在测试方法中不用自己去写了,实际操作是一样的,只是把额外发送的SQL封装配置起来了.<br><img src="https://img-blog.csdnimg.cn/20200226104507222.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzM3OTg5OTgw,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
<h4 id="3、额外SQL的N-1问题"><a href="#3、额外SQL的N-1问题" class="headerlink" title="3、额外SQL的N+1问题"></a>3、额外SQL的N+1问题</h4><p><a href="https://blog.csdn.net/m0_37989980/article/details/104510120#j0" target="_blank" rel="noopener">跳转到目录</a><br>假如每一个员工的部门ID都是不同的, 查询所有员工信息, 此时就会发生<code>N+1</code>问题, 其实就是发送了N+1条SQL语句<br>1 : SELECT * FROM employee<br>N: SELECT * FROM department WHERE id = ?</p>
<p>当查询所有员工时,如下图:<br><img src="https://img-blog.csdnimg.cn/20200226105514639.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzM3OTg5OTgw,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br><strong>解决方案:</strong> 使用多表查询(JSON), 一条SQL语句就搞定</p>
<h4 id="4、内联映射-处理结果集和对象属性的不匹配"><a href="#4、内联映射-处理结果集和对象属性的不匹配" class="headerlink" title="4、内联映射(处理结果集和对象属性的不匹配)"></a>4、内联映射(处理结果集和对象属性的不匹配)</h4><p><a href="https://blog.csdn.net/m0_37989980/article/details/104510120#j0" target="_blank" rel="noopener">跳转到目录</a><br><img src="https://img-blog.csdnimg.cn/2020022611144872.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzM3OTg5OTgw,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
<h6 id="mapper-2"><a href="#mapper-2" class="headerlink" title="mapper"></a>mapper</h6><p>EmployeeMapper</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line">	//查询所有用户信息(包括部门)</span><br><span class="line">	List<span class="tag">&lt;<span class="name">Employee</span>&gt;</span> getAllUser();</span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--当前得到的结果集和对象的属性不匹配--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">resultMap</span> <span class="attr">id</span>=<span class="string">"BaseResultMap"</span> <span class="attr">type</span>=<span class="string">"Employee"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">result</span> <span class="attr">column</span>=<span class="string">"id"</span> <span class="attr">property</span>=<span class="string">"id"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">result</span> <span class="attr">column</span>=<span class="string">"name"</span> <span class="attr">property</span>=<span class="string">"name"</span>/&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--处理关联对象--&gt;</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment">&lt;!--内联映射 方式一 --&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--&lt;result column="d_id" property="dept.id"/&gt;</span></span><br><span class="line"><span class="comment">        &lt;result column="d_name" property="dept.name"/&gt;--&gt;</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment">&lt;!--内联映射 方式二 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">association</span> <span class="attr">property</span>=<span class="string">"dept"</span> <span class="attr">javaType</span>=<span class="string">"Department"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">result</span> <span class="attr">column</span>=<span class="string">"d_id"</span> <span class="attr">property</span>=<span class="string">"id"</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">result</span> <span class="attr">column</span>=<span class="string">"d_name"</span> <span class="attr">property</span>=<span class="string">"name"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">association</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;/<span class="name">resultMap</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--查询所有用户信息--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">"getAllUser"</span> <span class="attr">resultMap</span>=<span class="string">"BaseResultMap"</span>&gt;</span></span><br><span class="line">        SELECT e.id, e.name, d.id AS d_id, d.name AS d_name FROM employee1 e JOIN</span><br><span class="line">            department1 d ON e.dept_id = d.id</span><br><span class="line">    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line">1234567891011121314151617181920212223242526</span><br></pre></td></tr></table></figure>

<p>DepartmentMapper 不需要写</p>
<p><img src="https://img-blog.csdnimg.cn/20200226112613335.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzM3OTg5OTgw,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
<h6 id="测试类-2"><a href="#测试类-2" class="headerlink" title="测试类"></a>测试类</h6><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 查询所有用户</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test2</span><span class="params">()</span></span>&#123;</span><br><span class="line">        SqlSession sqlSession = MybatisUtils.getSqlSession();</span><br><span class="line">        EmployeeMapper mapper = sqlSession.getMapper(EmployeeMapper<span class="class">.<span class="keyword">class</span>)</span>;</span><br><span class="line">        List&lt;Employee&gt; emps =  mapper.getAllUser();</span><br><span class="line">        <span class="keyword">for</span> (Employee emp : emps) &#123;</span><br><span class="line">            System.out.println(emp);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        sqlSession.close();</span><br><span class="line">    &#125;</span><br><span class="line"><span class="number">1234567891011121314</span></span><br></pre></td></tr></table></figure>

<p><img src="https://img-blog.csdnimg.cn/20200226112719605.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzM3OTg5OTgw,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
<h4 id="5、总结-多对一配置"><a href="#5、总结-多对一配置" class="headerlink" title="5、总结 (多对一配置)"></a>5、总结 (多对一配置)</h4><p><a href="https://blog.csdn.net/m0_37989980/article/details/104510120#j0" target="_blank" rel="noopener">跳转到目录</a></p>
<ul>
<li><p>使用</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">association元素</span><br></pre></td></tr></table></figure>

<p>,配置单一对象属性</p>
<ul>
<li>方式一: 额外SQL(分布查询), 一般,需要进入另一个页面显示更详细信息的时候.–&gt;集合属性</li>
<li>方式二: 内联映射(多表查询)</li>
</ul>
</li>
</ul>
<p>如果需要在查询出来的信息包含<code>关联对象</code>(这就是上面的在Employee类中,关联的属性–&gt; Department dept)的数据, 就需要使用 <code>内联映射</code>, 否则就会出现N+1问题;</p>
<h1 id="一对多-关系在一的一方"><a href="#一对多-关系在一的一方" class="headerlink" title="一对多(关系在一的一方)"></a>一对多(关系在一的一方)</h1><p><a href="https://blog.csdn.net/m0_37989980/article/details/104510120#j0" target="_blank" rel="noopener">跳转到目录</a></p>
<ul>
<li>案例: 多个员工对象属于同一个部门对象</li>
<li>1、保存员工部门信息</li>
<li>2、查询10号ID的部门信息</li>
</ul>
<h6 id="表设计-1"><a href="#表设计-1" class="headerlink" title="表设计"></a>表设计</h6><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> <span class="string">`employee2`</span> (</span><br><span class="line">  <span class="string">`id`</span> <span class="built_in">bigint</span>(<span class="number">20</span>) <span class="keyword">NOT</span> <span class="literal">NULL</span> AUTO_INCREMENT,</span><br><span class="line">  <span class="string">`name`</span> <span class="built_in">varchar</span>(<span class="number">20</span>) <span class="keyword">DEFAULT</span> <span class="literal">NULL</span>,</span><br><span class="line">  <span class="string">`dept_id`</span> <span class="built_in">bigint</span>(<span class="number">20</span>) <span class="keyword">DEFAULT</span> <span class="literal">NULL</span>,</span><br><span class="line">  PRIMARY <span class="keyword">KEY</span> (<span class="string">`id`</span>)</span><br><span class="line">) <span class="keyword">ENGINE</span>=<span class="keyword">InnoDB</span> AUTO_INCREMENT=<span class="number">10</span> <span class="keyword">DEFAULT</span> <span class="keyword">CHARSET</span>=utf8;</span><br><span class="line">123456</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> <span class="string">`department2`</span> (</span><br><span class="line">  <span class="string">`id`</span> <span class="built_in">bigint</span>(<span class="number">20</span>) <span class="keyword">NOT</span> <span class="literal">NULL</span> AUTO_INCREMENT,</span><br><span class="line">  <span class="string">`name`</span> <span class="built_in">varchar</span>(<span class="number">20</span>) <span class="keyword">DEFAULT</span> <span class="literal">NULL</span>,</span><br><span class="line">  PRIMARY <span class="keyword">KEY</span> (<span class="string">`id`</span>)</span><br><span class="line">) <span class="keyword">ENGINE</span>=<span class="keyword">InnoDB</span> AUTO_INCREMENT=<span class="number">24</span> <span class="keyword">DEFAULT</span> <span class="keyword">CHARSET</span>=utf8;</span><br><span class="line">12345</span><br></pre></td></tr></table></figure>

<h6 id="模型对象设计-1"><a href="#模型对象设计-1" class="headerlink" title="模型对象设计"></a>模型对象设计</h6><p>Employee类<br><img src="https://img-blog.csdnimg.cn/20200226114544766.png" alt="在这里插入图片描述"><br>Department类</p>
<p><img src="https://img-blog.csdnimg.cn/20200226114643772.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzM3OTg5OTgw,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
<h4 id="1、保存员工、部门信息-1"><a href="#1、保存员工、部门信息-1" class="headerlink" title="1、保存员工、部门信息"></a>1、保存员工、部门信息</h4><p><a href="https://blog.csdn.net/m0_37989980/article/details/104510120#j0" target="_blank" rel="noopener">跳转到目录</a></p>
<h6 id="mapper-3"><a href="#mapper-3" class="headerlink" title="mapper"></a>mapper</h6><p>EmployeeMapper</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line">	// 保存员工信息</span><br><span class="line">	void save(Employee emp);</span><br><span class="line"></span><br><span class="line">	<span class="comment">&lt;!--保存员工信息--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">insert</span> <span class="attr">id</span>=<span class="string">"save"</span> <span class="attr">useGeneratedKeys</span>=<span class="string">"true"</span> <span class="attr">keyProperty</span>=<span class="string">"id"</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--save方法中的参数emp对象中取属性--&gt;</span></span><br><span class="line">        INSERT INTO employee2(name, dept_id) VALUES (#&#123;name&#125;, #&#123;deptId&#125;)</span><br><span class="line">    <span class="tag">&lt;/<span class="name">insert</span>&gt;</span></span><br><span class="line">12345678</span><br></pre></td></tr></table></figure>

<p>DepartmentMapper</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line">	// 保存一个部门</span><br><span class="line">	void save(Department dept);</span><br><span class="line"></span><br><span class="line">	<span class="comment">&lt;!--保存部门,要生成部门ID,因为在员工表中要使用到部门的主键ID,作为外键--&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">insert</span> <span class="attr">id</span>=<span class="string">"save"</span> <span class="attr">useGeneratedKeys</span>=<span class="string">"true"</span> <span class="attr">keyProperty</span>=<span class="string">"id"</span>&gt;</span></span><br><span class="line">        INSERT INTO department2(name) VALUES (#&#123;name&#125;)</span><br><span class="line">    <span class="tag">&lt;/<span class="name">insert</span>&gt;</span></span><br><span class="line">	</span><br><span class="line">12345678</span><br></pre></td></tr></table></figure>

<h6 id="测试类-3"><a href="#测试类-3" class="headerlink" title="测试类"></a>测试类</h6><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 测试保存操作</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="comment">// 创建部门对象</span></span><br><span class="line">        Department dept = <span class="keyword">new</span> Department();</span><br><span class="line">        dept.setName(<span class="string">"开发部"</span>);</span><br><span class="line">        <span class="comment">// 创建员工对象</span></span><br><span class="line">        Employee emp = <span class="keyword">new</span> Employee();</span><br><span class="line">        emp.setName(<span class="string">"张三"</span>);</span><br><span class="line"></span><br><span class="line">        Employee emp2 = <span class="keyword">new</span> Employee();</span><br><span class="line">        emp2.setName(<span class="string">"李四"</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 维护对象关系</span></span><br><span class="line">        dept.getEmps().add(emp);</span><br><span class="line">        dept.getEmps().add(emp2);</span><br><span class="line"></span><br><span class="line">        SqlSession sqlSession = MybatisUtils.getSqlSession();</span><br><span class="line">        DepartmentMapper departmentMapper = sqlSession.getMapper(DepartmentMapper<span class="class">.<span class="keyword">class</span>)</span>;</span><br><span class="line">        EmployeeMapper employeeMapper = sqlSession.getMapper(EmployeeMapper<span class="class">.<span class="keyword">class</span>)</span>;</span><br><span class="line"></span><br><span class="line">        departmentMapper.save(dept);</span><br><span class="line">        <span class="comment">// 当保存部门信息后,再获取部门ID</span></span><br><span class="line">        emp.setDeptId(dept.getId());</span><br><span class="line">        emp2.setDeptId(dept.getId());</span><br><span class="line"></span><br><span class="line">        employeeMapper.save(emp);</span><br><span class="line">        employeeMapper.save(emp2);</span><br><span class="line"></span><br><span class="line">        sqlSession.commit();</span><br><span class="line">        sqlSession.close();</span><br><span class="line">    &#125;</span><br><span class="line"><span class="number">12345678910111213141516171819202122232425262728293031323334</span></span><br></pre></td></tr></table></figure>

<p><img src="https://img-blog.csdnimg.cn/20200226124023758.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzM3OTg5OTgw,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
<h4 id="2、根据id查询员工信息-1"><a href="#2、根据id查询员工信息-1" class="headerlink" title="2、根据id查询员工信息"></a>2、根据id查询员工信息</h4><p><a href="https://blog.csdn.net/m0_37989980/article/details/104510120#j0" target="_blank" rel="noopener">跳转到目录</a><br>通过<code>额外SQL</code></p>
<h6 id="mapper-4"><a href="#mapper-4" class="headerlink" title="mapper"></a>mapper</h6><p>EmployeeMapper</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line">	// 根据部门id来查询部门的员工信息</span><br><span class="line">	List<span class="tag">&lt;<span class="name">Employee</span>&gt;</span> getUsersByDeptId(Long deptId);</span><br><span class="line">	</span><br><span class="line">	 <span class="comment">&lt;!--根据部门ID来查询部门的员工的信息--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">"getUsersByDeptId"</span> <span class="attr">resultType</span>=<span class="string">"Employee"</span>&gt;</span></span><br><span class="line">        SELECT id, name, dept_id AS deptId FROM employee2 WHERE dept_id = #&#123;deptId&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line">1234567</span><br></pre></td></tr></table></figure>

<p>DepartmentMapper</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line">      	<span class="tag">&lt;<span class="name">resultMap</span> <span class="attr">id</span>=<span class="string">"BaseResultMap"</span> <span class="attr">type</span>=<span class="string">"Department"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">result</span> <span class="attr">column</span>=<span class="string">"id"</span> <span class="attr">property</span>=<span class="string">"id"</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">result</span> <span class="attr">column</span>=<span class="string">"name"</span> <span class="attr">property</span>=<span class="string">"name"</span>/&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- 针对单一对象的属性,我们使用association元素--&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- 针对集合类型的属性,我们使用collection元素--&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">collection</span> <span class="attr">property</span>=<span class="string">"emps"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">select</span>=<span class="string">"com.sunny.mapper.DepartmentMapperMapper.getUsersByDeptId"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">column</span>=<span class="string">"id"</span></span></span><br><span class="line"><span class="tag">            /&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">resultMap</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!--根据部门id查询部门信息--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">"getDeptById"</span> <span class="attr">resultMap</span>=<span class="string">"BaseResultMap"</span>&gt;</span></span><br><span class="line">            SELECT id, name FROM department2 WHERE id = #&#123;id&#125;</span><br><span class="line">        <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line">123456789101112131415</span><br></pre></td></tr></table></figure>

<p>注意: 这里关联属性是集合类型的,所以要使用<code>collection</code>元素<img src="https://img-blog.csdnimg.cn/20200226125420896.png" alt="在这里插入图片描述"><br><img src="https://img-blog.csdnimg.cn/20200226130335633.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzM3OTg5OTgw,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
<h6 id="测试类-4"><a href="#测试类-4" class="headerlink" title="测试类"></a>测试类</h6><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">   <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 查询10号ID的部门信息(包括部门的员工)</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test2</span><span class="params">()</span></span>&#123;</span><br><span class="line">        SqlSession sqlSession = MybatisUtils.getSqlSession();</span><br><span class="line">        DepartmentMapper departmentMapper = sqlSession.getMapper(DepartmentMapper<span class="class">.<span class="keyword">class</span>)</span>;</span><br><span class="line">        Department dept = departmentMapper.getDeptById(<span class="number">10L</span>);</span><br><span class="line"></span><br><span class="line">        System.out.println(dept);</span><br><span class="line">        System.out.println(dept.getEmps());</span><br><span class="line"></span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">        * 手动完成 额外SQL查询</span></span><br><span class="line"><span class="comment">        EmployeeMapper employeeMapper = sqlSession.getMapper(EmployeeMapper.class);</span></span><br><span class="line"><span class="comment">        Long deptId = dept.getId();</span></span><br><span class="line"><span class="comment">        List&lt;Employee&gt; emps = employeeMapper.getUsersByDeptId(deptId);</span></span><br><span class="line"><span class="comment">        dept.setEmps(emps);</span></span><br><span class="line"><span class="comment">        List&lt;Employee&gt; emps1 = dept.getEmps();</span></span><br><span class="line"><span class="comment">        System.out.println(emps1);</span></span><br><span class="line"><span class="comment">        */</span></span><br><span class="line"></span><br><span class="line">        sqlSession.close();</span><br><span class="line">    &#125;</span><br><span class="line"><span class="number">123456789101112131415161718192021222324</span></span><br></pre></td></tr></table></figure>

<p><img src="https://img-blog.csdnimg.cn/2020022613060585.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzM3OTg5OTgw,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
<h4 id="3、内联映射-处理结果集和对象属性的不匹配"><a href="#3、内联映射-处理结果集和对象属性的不匹配" class="headerlink" title="3、内联映射(处理结果集和对象属性的不匹配)"></a>3、内联映射(处理结果集和对象属性的不匹配)</h4><p><a href="https://blog.csdn.net/m0_37989980/article/details/104510120#j0" target="_blank" rel="noopener">跳转到目录</a><br><img src="https://img-blog.csdnimg.cn/20200226130749490.png" alt="在这里插入图片描述"></p>
<h6 id="mapper-5"><a href="#mapper-5" class="headerlink" title="mapper"></a>mapper</h6><p>DepartmentMapper</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line">	// 根据id查询部门信息</span><br><span class="line">	Department getDeptById(long l);</span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">resultMap</span> <span class="attr">id</span>=<span class="string">"BaseResultMap"</span> <span class="attr">type</span>=<span class="string">"Department"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">result</span> <span class="attr">column</span>=<span class="string">"id"</span> <span class="attr">property</span>=<span class="string">"id"</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">result</span> <span class="attr">column</span>=<span class="string">"name"</span> <span class="attr">property</span>=<span class="string">"name"</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">&lt;!--使用内联查询</span></span><br><span class="line"><span class="comment">                ofType: 表示集合中的泛型的类型</span></span><br><span class="line"><span class="comment">            --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">collection</span> <span class="attr">property</span>=<span class="string">"emps"</span> <span class="attr">ofType</span>=<span class="string">"Employee"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">result</span> <span class="attr">column</span>=<span class="string">"e_id"</span> <span class="attr">property</span>=<span class="string">"id"</span>/&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">result</span> <span class="attr">column</span>=<span class="string">"e_name"</span> <span class="attr">property</span>=<span class="string">"name"</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">collection</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">resultMap</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!--根据部门id查询部门信息--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">"getDeptById"</span> <span class="attr">resultMap</span>=<span class="string">"BaseResultMap"</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!--SELECT id, name FROM department2 WHERE id = #&#123;id&#125;--&gt;</span></span><br><span class="line">            SELECT d.id, d.name,</span><br><span class="line">                   e.id AS e_id, e.name AS e_name</span><br><span class="line">            FROM department2 d JOIN employee2 e ON  d.id = e.dept_id</span><br><span class="line">            WHERE d.id = #&#123;id&#125;</span><br><span class="line">        <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line">123456789101112131415161718192021222324</span><br></pre></td></tr></table></figure>

<p>EmployeeMapper 不需要写</p>
<p><img src="https://img-blog.csdnimg.cn/20200226131538745.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzM3OTg5OTgw,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
<h6 id="测试类-5"><a href="#测试类-5" class="headerlink" title="测试类"></a>测试类</h6><p>和上面相同<br><img src="https://img-blog.csdnimg.cn/20200226131936268.png" alt="在这里插入图片描述"></p>
<h1 id="延迟加载"><a href="#延迟加载" class="headerlink" title="延迟加载"></a>延迟加载</h1><p><a href="https://blog.csdn.net/m0_37989980/article/details/104510120#j0" target="_blank" rel="noopener">跳转到目录</a></p>
<ul>
<li>延迟加载(lazy load) :也称为懒加载。</li>
</ul>
<p>为了避免一些无谓的性能开销而提出来的,所谓延迟加载就是当在真正需要数据的时候,才会发出sql语询进行查询该数据。</p>
<p>MyBatis运行时期的属性配置,放在主配置文件中的``元素中。</p>
<p>MyBatis中直接查询出来的many方对象其实就已经是一个代理对象,当使用many方对象的任意一个属性时,立刻很积极的把关联对象也查询出来,此时性能不会太好。</p>
<ul>
<li>配置细节:</li>
</ul>
<p>①MyBatis 缺省情况下,禁用了延迟加载。<br>②MyBatis 会很积极的去查询关联对象。<br>③MyBatis 中缺省情况下调用equals. clone. hashCode、 toString 都会触发延迟加载<br>一般的我们保留clone就可以了,也就是说调用many方对象的toString. hashCode. equals 方法依然不会去发送查询one方的SQL.</p>
<p>在MaBatis的主配置文件中</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line">    <span class="tag">&lt;<span class="name">settings</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--日志技术--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">setting</span> <span class="attr">name</span>=<span class="string">"logImpl"</span> <span class="attr">value</span>=<span class="string">"LOG4J"</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!--开启延迟加载功能--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">setting</span> <span class="attr">name</span>=<span class="string">"lazyLoadingEnabled"</span> <span class="attr">value</span>=<span class="string">"true"</span>/&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--设置不要积极的去查询关联对象--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">setting</span> <span class="attr">name</span>=<span class="string">"aggressiveLazyLoading"</span> <span class="attr">value</span>=<span class="string">"false"</span>/&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--延迟加载触发的方法--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">setting</span> <span class="attr">name</span>=<span class="string">"lazyLoadTriggerMethods"</span> <span class="attr">value</span>=<span class="string">"clone"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">settings</span>&gt;</span></span><br><span class="line">1234567891011</span><br></pre></td></tr></table></figure>

<p>这样以来就不会发送<code>额外SQL</code>了</p>
<h2 id="关联对象的配置选择"><a href="#关联对象的配置选择" class="headerlink" title="关联对象的配置选择"></a>关联对象的配置选择</h2><p><a href="https://blog.csdn.net/m0_37989980/article/details/104510120#j0" target="_blank" rel="noopener">跳转到目录</a></p>
<ul>
<li>针对<code>单属性</code>对象, 使用<code>association</code>元素,通常直接使用多表查询操作,也就是使用<code>内联查询</code></li>
<li>针对<code>集合属性</code>对象,使用<code>collection</code>元素,通常使用<code>延迟加载</code>, 也就是<code>额外SQL</code>处理</li>
</ul>
<h1 id="多对多-单向-关系在学生方"><a href="#多对多-单向-关系在学生方" class="headerlink" title="多对多(单向-关系在学生方)"></a>多对多(单向-关系在学生方)</h1><p><a href="https://blog.csdn.net/m0_37989980/article/details/104510120#j0" target="_blank" rel="noopener">跳转到目录</a></p>
<ul>
<li>1、保存学生、老师、中间表的信息</li>
<li>2、删除指定id的学生</li>
<li>3、查询指定id的学生(包括该id学生的老师)</li>
</ul>
<h6 id="表设计-2"><a href="#表设计-2" class="headerlink" title="表设计"></a>表设计</h6><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> <span class="string">`student`</span> (</span><br><span class="line">  <span class="string">`id`</span> <span class="built_in">bigint</span>(<span class="number">20</span>) <span class="keyword">NOT</span> <span class="literal">NULL</span> AUTO_INCREMENT,</span><br><span class="line">  <span class="string">`name`</span> <span class="built_in">varchar</span>(<span class="number">20</span>) <span class="keyword">DEFAULT</span> <span class="literal">NULL</span>,</span><br><span class="line">  PRIMARY <span class="keyword">KEY</span> (<span class="string">`id`</span>)</span><br><span class="line">) <span class="keyword">ENGINE</span>=<span class="keyword">InnoDB</span> AUTO_INCREMENT=<span class="number">3</span> <span class="keyword">DEFAULT</span> <span class="keyword">CHARSET</span>=utf8;</span><br><span class="line">12345</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> <span class="string">`teacher`</span> (</span><br><span class="line">  <span class="string">`id`</span> <span class="built_in">bigint</span>(<span class="number">20</span>) <span class="keyword">NOT</span> <span class="literal">NULL</span> AUTO_INCREMENT,</span><br><span class="line">  <span class="string">`name`</span> <span class="built_in">varchar</span>(<span class="number">20</span>) <span class="keyword">DEFAULT</span> <span class="literal">NULL</span>,</span><br><span class="line">  PRIMARY <span class="keyword">KEY</span> (<span class="string">`id`</span>)</span><br><span class="line">) <span class="keyword">ENGINE</span>=<span class="keyword">InnoDB</span> AUTO_INCREMENT=<span class="number">3</span> <span class="keyword">DEFAULT</span> <span class="keyword">CHARSET</span>=utf8;</span><br><span class="line">12345</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> <span class="string">`student_teacher`</span> (</span><br><span class="line">  <span class="string">`student_id`</span> <span class="built_in">bigint</span>(<span class="number">20</span>) <span class="keyword">NOT</span> <span class="literal">NULL</span>,</span><br><span class="line">  <span class="string">`teacher_id`</span> <span class="built_in">bigint</span>(<span class="number">20</span>) <span class="keyword">NOT</span> <span class="literal">NULL</span></span><br><span class="line">) <span class="keyword">ENGINE</span>=<span class="keyword">InnoDB</span> <span class="keyword">DEFAULT</span> <span class="keyword">CHARSET</span>=utf8;</span><br><span class="line">1234</span><br></pre></td></tr></table></figure>

<h6 id="模型对象设计-2"><a href="#模型对象设计-2" class="headerlink" title="模型对象设计"></a>模型对象设计</h6><p>Student类<br><img src="https://img-blog.csdnimg.cn/20200226151138721.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzM3OTg5OTgw,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>Teacher类<br><img src="https://img-blog.csdnimg.cn/20200226151216483.png" alt="在这里插入图片描述"></p>
<h4 id="1、保存学生、老师和中间表的信息"><a href="#1、保存学生、老师和中间表的信息" class="headerlink" title="1、保存学生、老师和中间表的信息"></a>1、保存学生、老师和中间表的信息</h4><p><a href="https://blog.csdn.net/m0_37989980/article/details/104510120#j0" target="_blank" rel="noopener">跳转到目录</a></p>
<h6 id="mapper-6"><a href="#mapper-6" class="headerlink" title="mapper"></a>mapper</h6><p>StudentMapper</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line">	// 保存学生信息</span><br><span class="line">    void save(Student stu);</span><br><span class="line">    </span><br><span class="line">	// 因为关系在学生这边.(因为传递的是两个参数,所以要做参数处理,使用注解)</span><br><span class="line">	void insertRelationWithTeacher(@Param("studentId") Long studentId, @Param("teacherId") Long teacherId);</span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">insert</span> <span class="attr">id</span>=<span class="string">"save"</span> <span class="attr">useGeneratedKeys</span>=<span class="string">"true"</span> <span class="attr">keyProperty</span>=<span class="string">"id"</span>&gt;</span></span><br><span class="line">        INSERT INTO student (name) VALUES (#&#123;name&#125;)</span><br><span class="line">    <span class="tag">&lt;/<span class="name">insert</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="tag">&lt;<span class="name">insert</span> <span class="attr">id</span>=<span class="string">"insertRelationWithTeacher"</span>&gt;</span></span><br><span class="line">        INSERT INTO student_teacher (student_id, teacher_id) VALUES (#&#123;studentId&#125;, #&#123;teacherId&#125;)</span><br><span class="line">    <span class="tag">&lt;/<span class="name">insert</span>&gt;</span></span><br><span class="line">12345678910111213</span><br></pre></td></tr></table></figure>

<p>TeacherMapper</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line">	// 保存老师信息</span><br><span class="line">    void save(Teacher teacher);</span><br><span class="line"></span><br><span class="line">  	<span class="tag">&lt;<span class="name">insert</span> <span class="attr">id</span>=<span class="string">"save"</span> <span class="attr">useGeneratedKeys</span>=<span class="string">"true"</span> <span class="attr">keyProperty</span>=<span class="string">"id"</span>&gt;</span></span><br><span class="line">        INSERT INTO teacher(name) VALUES (#&#123;name&#125;)</span><br><span class="line">    <span class="tag">&lt;/<span class="name">insert</span>&gt;</span></span><br><span class="line">	</span><br><span class="line">1234567</span><br></pre></td></tr></table></figure>

<h6 id="测试类-6"><a href="#测试类-6" class="headerlink" title="测试类"></a>测试类</h6><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 将学生、老师信息存储到各自的表中</span></span><br><span class="line"><span class="comment">     *  并将学生、老师的ID插入到中间表中</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testSave</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        Teacher t1 = <span class="keyword">new</span> Teacher();</span><br><span class="line">        t1.setName(<span class="string">"老师1"</span>);</span><br><span class="line">        Teacher t2 = <span class="keyword">new</span> Teacher();</span><br><span class="line">        t2.setName(<span class="string">"老师2"</span>);</span><br><span class="line"></span><br><span class="line">        Student s1 = <span class="keyword">new</span> Student();</span><br><span class="line">        s1.setName(<span class="string">"张三"</span>);</span><br><span class="line">        Student s2 = <span class="keyword">new</span> Student();</span><br><span class="line">        s2.setName(<span class="string">"李四"</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 维护关系(学生的老师们)</span></span><br><span class="line">        s1.getTeachers().add(t1);</span><br><span class="line">        s1.getTeachers().add(t2);</span><br><span class="line">        s2.getTeachers().add(t1);</span><br><span class="line">        s2.getTeachers().add(t2);</span><br><span class="line"></span><br><span class="line">        SqlSession sqlSession = MybatisUtils.getSqlSession();</span><br><span class="line">        StudentMapper studentMapper = sqlSession.getMapper(StudentMapper<span class="class">.<span class="keyword">class</span>)</span>;</span><br><span class="line">        TeacherMapper teacherMapper = sqlSession.getMapper(TeacherMapper<span class="class">.<span class="keyword">class</span>)</span>;</span><br><span class="line">        studentMapper.save(s1);</span><br><span class="line">        studentMapper.save(s2);</span><br><span class="line">        teacherMapper.save(t1);</span><br><span class="line">        teacherMapper.save(t2);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 当学生和老师信息都保存之后,再维护中间表的数据</span></span><br><span class="line">        <span class="keyword">for</span> (Teacher teacher1 : s1.getTeachers()) &#123;</span><br><span class="line">            studentMapper.insertRelationWithTeacher(s1.getId(), teacher1.getId());</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (Teacher teacher2 : s2.getTeachers()) &#123;</span><br><span class="line">            studentMapper.insertRelationWithTeacher(s2.getId(), teacher2.getId());</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        sqlSession.commit();</span><br><span class="line">        sqlSession.close();</span><br><span class="line">    &#125;</span><br><span class="line"><span class="number">1234567891011121314151617181920212223242526272829303132333435363738394041</span></span><br></pre></td></tr></table></figure>

<p><img src="https://img-blog.csdnimg.cn/20200226153008566.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzM3OTg5OTgw,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
<h4 id="2、删除指定id的学生"><a href="#2、删除指定id的学生" class="headerlink" title="2、删除指定id的学生"></a>2、删除指定id的学生</h4><p><a href="https://blog.csdn.net/m0_37989980/article/details/104510120#j0" target="_blank" rel="noopener">跳转到目录</a></p>
<h6 id="mapper-7"><a href="#mapper-7" class="headerlink" title="mapper"></a>mapper</h6><p>StudentMapper</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line">	// 根据id删除学生记录</span><br><span class="line">    void deleteStuById(long l);</span><br><span class="line"></span><br><span class="line">    // 当删除学生的id时,中间表中学生的id也应该删除</span><br><span class="line">    void deleteRelationTeacherById(long l);@Param("teacherId") Long teacherId);</span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">delete</span> <span class="attr">id</span>=<span class="string">"deleteRelationTeacherById"</span>&gt;</span></span><br><span class="line">        DELETE FROM student_teacher WHERE student_id = #&#123;id&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">delete</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">delete</span> <span class="attr">id</span>=<span class="string">"deleteStuById"</span>&gt;</span></span><br><span class="line">        DELETE FROM student WHERE id = #&#123;id&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">delete</span>&gt;</span></span><br><span class="line">12345678910111213</span><br></pre></td></tr></table></figure>

<p>测试类</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">   <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 根据ID删除</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">()</span></span>&#123;</span><br><span class="line">        SqlSession sqlSession = MybatisUtils.getSqlSession();</span><br><span class="line">        StudentMapper studentMapper = sqlSession.getMapper(StudentMapper<span class="class">.<span class="keyword">class</span>)</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 因为多对多关系, 中间表中列,是两表中的主键,当删除一个学生时,中间表也必然发生改变</span></span><br><span class="line">        <span class="comment">// 在删除学生之前,应该先删除中间表中的数据</span></span><br><span class="line">        studentMapper.deleteRelationTeacherById(<span class="number">1L</span>);</span><br><span class="line"></span><br><span class="line">        studentMapper.deleteStuById(<span class="number">1L</span>);</span><br><span class="line"></span><br><span class="line">        sqlSession.commit();</span><br><span class="line">        sqlSession.close();</span><br><span class="line">    &#125;</span><br><span class="line"><span class="number">1234567891011121314151617</span></span><br></pre></td></tr></table></figure>

<p><img src="https://img-blog.csdnimg.cn/20200226152923599.png" alt="在这里插入图片描述"></p>
<h4 id="3、根据id查询学生信息-包括学生的老师们"><a href="#3、根据id查询学生信息-包括学生的老师们" class="headerlink" title="3、根据id查询学生信息(包括学生的老师们)"></a>3、根据id查询学生信息(包括学生的老师们)</h4><p><a href="https://blog.csdn.net/m0_37989980/article/details/104510120#j0" target="_blank" rel="noopener">跳转到目录</a><br>使用<code>额外SQL</code></p>
<h6 id="mapper-8"><a href="#mapper-8" class="headerlink" title="mapper"></a>mapper</h6><p>StudentMapper</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line">	// 根据id来查询学生信息</span><br><span class="line">    Student get(Long l);</span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">resultMap</span> <span class="attr">id</span>=<span class="string">"BaseResultMap"</span> <span class="attr">type</span>=<span class="string">"Student"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">result</span> <span class="attr">column</span>=<span class="string">"id"</span> <span class="attr">property</span>=<span class="string">"id"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">result</span> <span class="attr">column</span>=<span class="string">"name"</span> <span class="attr">property</span>=<span class="string">"name"</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!--根据学生id来查询出,该学生的老师们--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">collection</span> <span class="attr">property</span>=<span class="string">"teachers"</span> <span class="attr">ofType</span>=<span class="string">"Teacher"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">select</span>=<span class="string">"com.sunny.mapper.TeacherMapper.selectTeachersByStuId"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">column</span>=<span class="string">"id"</span></span></span><br><span class="line"><span class="tag">        /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">resultMap</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--查询学生信息--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">"get"</span> <span class="attr">resultMap</span>=<span class="string">"BaseResultMap"</span>&gt;</span></span><br><span class="line">        SELECT id,name FROM student WHERE id = #&#123;id&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line">123456789101112131415161718</span><br></pre></td></tr></table></figure>

<p>TeacherMapper</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line">    <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">"selectTeachersByStuId"</span> <span class="attr">resultType</span>=<span class="string">"Teacher"</span>&gt;</span></span><br><span class="line">        SELECT t.id, t.name</span><br><span class="line">        FROM teacher t JOIN student_teacher st on t.id = st.teacher_id</span><br><span class="line">        WHERE st.student_id = #&#123;studentId&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line">12345</span><br></pre></td></tr></table></figure>

<p><img src="https://img-blog.csdnimg.cn/20200226160451440.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzM3OTg5OTgw,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
<p>测试类</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 根据Id查询学生信息(包括该学生的老师们)</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testQueryByStuId</span><span class="params">()</span></span>&#123;</span><br><span class="line">        SqlSession sqlSession = MybatisUtils.getSqlSession();</span><br><span class="line">        StudentMapper studentMapper = sqlSession.getMapper(StudentMapper<span class="class">.<span class="keyword">class</span>)</span>;</span><br><span class="line">        Student student = studentMapper.get(<span class="number">1L</span>);</span><br><span class="line">        System.out.println(student);</span><br><span class="line">        System.out.println(student.getTeachers());</span><br><span class="line">    &#125;</span><br><span class="line"><span class="number">1234567891011</span></span><br></pre></td></tr></table></figure>

<p><img src="https://img-blog.csdnimg.cn/20200226160049701.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzM3OTg5OTgw,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
</div><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:undefined">陈涛</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="https://somunstao.github.io/2020/02/14/MyBatis%2004%EF%BC%9A%E5%AF%B9%E8%B1%A1%E5%85%B3%E7%B3%BB%E6%98%A0%E5%B0%84%E3%80%81%E5%BB%B6%E8%BF%9F%E5%8A%A0%E8%BD%BD%E3%80%81%E5%85%B3%E8%81%94%E5%AF%B9%E8%B1%A1%E7%9A%84%E9%85%8D%E7%BD%AE%E9%80%89%E6%8B%A9/">https://somunstao.github.io/2020/02/14/MyBatis 04：对象关系映射、延迟加载、关联对象的配置选择/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://SomunsTao.github.io" target="_blank">Somuns ` Tao</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/MyBatis/">MyBatis</a></div><div class="post_share"><div class="social-share" data-image="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css"/><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js"></script></div></div><div class="post-reward"><a class="reward-button button--primary button--animated"> <i class="fa fa-qrcode"></i> 打赏<div class="reward-main"><ul class="reward-all"><li class="reward-item"><img class="post-qr-code__img" src="/img/wechat.jpg" alt="微信"/><div class="post-qr-code__desc">微信</div></li><li class="reward-item"><img class="post-qr-code__img" src="/img/alipay.jpg" alt="支付寶"/><div class="post-qr-code__desc">支付寶</div></li></ul></div></a></div><nav class="pagination_post" id="pagination"><div class="prev-post pull_left"><a href="/2020/02/15/MyBatis%2005%EF%BC%9A%E5%88%86%E9%A1%B5%E7%9A%84%E5%AE%9E%E7%8E%B0/"><img class="prev_cover" src="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg" onerror="onerror=null;src='/img/404.jpg'"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">MyBatis 05：MyBatis：分页的实现</div></div></a></div><div class="next-post pull_right"><a href="/2020/02/13/MyBatis%2003%EF%BC%9A%E5%8A%A8%E6%80%81SQL%E3%80%81if%E3%80%81where%E3%80%81set%E3%80%81foreach%E3%80%81sql%E7%89%87%E6%AE%B5/"><img class="next_cover" src="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg" onerror="onerror=null;src='/img/404.jpg'"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">MyBatis 03：动态SQL、if、where、set、foreach、sql片段</div></div></a></div></nav><div class="relatedPosts"><div class="relatedPosts_headline"><i class="fa fa-fw fa-thumbs-up" aria-hidden="true"></i><span> 相关推荐</span></div><div class="relatedPosts_list"><div class="relatedPosts_item"><a href="/2020/02/11/MyBatis 01：MyBatis——ORM思想、MyBatis概述、日志框架、OGNL/" title="MyBatis 01：	MyBatis——ORM思想、MyBatis概述、日志框架、OGNL"><img class="relatedPosts_cover" src="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2020-02-11</div><div class="relatedPosts_title">MyBatis 01：	MyBatis——ORM思想、MyBatis概述、日志框架、OGNL</div></div></a></div><div class="relatedPosts_item"><a href="/2020/02/12/MyBatis 02：MyBatis的CRUD操作、别名配置、属性配置、查询结果映射、Mapper组件、参数处理、注解开发/" title="MyBatis 02：CRUD操作、别名配置、属性配置、查询结果映射、Mapper组件、参数处理、注解开发"><img class="relatedPosts_cover" src="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2020-02-12</div><div class="relatedPosts_title">MyBatis 02：CRUD操作、别名配置、属性配置、查询结果映射、Mapper组件、参数处理、注解开发</div></div></a></div><div class="relatedPosts_item"><a href="/2020/02/13/MyBatis 03：动态SQL、if、where、set、foreach、sql片段/" title="MyBatis 03：动态SQL、if、where、set、foreach、sql片段"><img class="relatedPosts_cover" src="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2020-02-13</div><div class="relatedPosts_title">MyBatis 03：动态SQL、if、where、set、foreach、sql片段</div></div></a></div><div class="relatedPosts_item"><a href="/2020/02/15/MyBatis 05：分页的实现/" title="MyBatis 05：MyBatis：分页的实现"><img class="relatedPosts_cover" src="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2020-02-15</div><div class="relatedPosts_title">MyBatis 05：MyBatis：分页的实现</div></div></a></div><div class="relatedPosts_item"><a href="/2020/02/17/MyBatis 06：使用注解开发/" title="MyBatis 07：MyBatis Generator插件使用(配置详解)"><img class="relatedPosts_cover" src="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2020-02-17</div><div class="relatedPosts_title">MyBatis 07：MyBatis Generator插件使用(配置详解)</div></div></a></div><div class="relatedPosts_item"><a href="/2020/02/17/MyBatis 07：MyBatis Generator插件使用(配置详解)/" title="MyBatis 07：MyBatis Generator插件使用(配置详解)"><img class="relatedPosts_cover" src="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2020-02-17</div><div class="relatedPosts_title">MyBatis 07：MyBatis Generator插件使用(配置详解)</div></div></a></div></div><div class="clear_both"></div></div><hr><div id="post-comment"><div class="comment_headling"><i class="fa fa-comments fa-fw" aria-hidden="true"></i><span> 评论</span></div><div id="lv-container" data-id="city" data-uid="MTAyMC80OTk1Ni8yNjQ0Nw=="><script>(function(d, s) {
    var j, e = d.getElementsByTagName(s)[0];
    if (typeof LivereTower === 'function') { return; }
    j = d.createElement(s);
    j.src = 'https://cdn-city.livere.com/js/embed.dist.js';
    j.async = true;
    e.parentNode.insertBefore(j, e);
})(document, 'script');</script></div></div></article></main><footer id="footer" data-type="color"><div id="footer-wrap"><div class="copyright">&copy;2020 By 陈涛</div><div class="framework-info"><span>驱动 </span><a href="https://hexo.io" target="_blank" rel="noopener"><span>Hexo</span></a><span class="footer-separator">|</span><span>主题 </span><a href="https://github.com/jerryc127/hexo-theme-butterfly" target="_blank" rel="noopener"><span>Butterfly</span></a></div></div></footer></div><section class="rightside" id="rightside"><div id="rightside-config-hide"><i class="fa fa-book" id="readmode" title="阅读模式"></i><i class="fa fa-plus" id="font_plus" title="放大字体"></i><i class="fa fa-minus" id="font_minus" title="缩小字体"></i><a class="translate_chn_to_cht" id="translateLink" href="javascript:translatePage();" title="简繁转换" target="_self">簡</a><i class="darkmode far fa-moon" id="darkmode" title="夜间模式"></i></div><div id="rightside-config-show"><div id="rightside_config" title="设置"><i class="fa fa-cog" aria-hidden="true"></i></div><a id="to_comment" href="#post-comment" title="直达评论"><i class="scroll_to_comment fa fa-comments">  </i></a><i class="fa fa-list-ul close" id="mobile-toc-button" title="目录" aria-hidden="true"></i><i class="fa fa-arrow-up" id="go-up" title="回到顶部" aria-hidden="true"></i></div></section><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script defer id="ribbon" src="/js/third-party/canvas-ribbon.js" size="150" alpha="0.6" zIndex="-1" mobile="true" data-click="true"></script><script id="ribbon_piao" mobile="true" src="/js/third-party/piao.js"></script><script id="canvas_nest" color="0,0,255" opacity="0.7" zIndex="-1" count="99" mobile="true" src="/js/third-party/canvas-nest.js"></script><script src="/js/third-party/activate-power-mode.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = true;
document.body.addEventListener('input', POWERMODE);
</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page@latest/instantpage.min.js" type="module"></script><script src="/js/third-party/click_heart.js"></script></body></html>