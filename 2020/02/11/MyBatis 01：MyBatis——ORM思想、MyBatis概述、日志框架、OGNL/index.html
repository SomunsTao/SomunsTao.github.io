<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>MyBatis 01：	MyBatis——ORM思想、MyBatis概述、日志框架、OGNL | Somuns ` Tao</title><meta name="description" content="MyBatis 是一款优秀的持久层框架"><meta name="keywords" content="MyBatis"><meta name="author" content="陈涛"><meta name="copyright" content="陈涛"><meta name="format-detection" content="telephone=no"><link rel="shortcut icon" href="/img/favicon.png"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="dns-prefetch" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="https://fonts.googleapis.com" crossorigin="crossorigin"/><link rel="dns-prefetch" href="https://fonts.googleapis.com"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="dns-prefetch" href="//busuanzi.ibruce.info"/><meta name="twitter:card" content="summary"><meta name="twitter:title" content="MyBatis 01：	MyBatis——ORM思想、MyBatis概述、日志框架、OGNL"><meta name="twitter:description" content="MyBatis 是一款优秀的持久层框架"><meta name="twitter:image" content="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg"><meta property="og:type" content="article"><meta property="og:title" content="MyBatis 01：	MyBatis——ORM思想、MyBatis概述、日志框架、OGNL"><meta property="og:url" content="https://somunstao.github.io/2020/02/11/MyBatis%2001%EF%BC%9AMyBatis%E2%80%94%E2%80%94ORM%E6%80%9D%E6%83%B3%E3%80%81MyBatis%E6%A6%82%E8%BF%B0%E3%80%81%E6%97%A5%E5%BF%97%E6%A1%86%E6%9E%B6%E3%80%81OGNL/"><meta property="og:site_name" content="Somuns ` Tao"><meta property="og:description" content="MyBatis 是一款优秀的持久层框架"><meta property="og:image" content="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg"><meta property="article:published_time" content="2020-02-10T16:00:00.000Z"><meta property="article:modified_time" content="2020-08-02T06:47:27.963Z"><script src="https://cdn.jsdelivr.net/npm/js-cookie/dist/js.cookie.min.js"></script><script>var autoChangeMode = '1'
var t = Cookies.get("theme")
if (autoChangeMode == '1'){
  var isDarkMode = window.matchMedia("(prefers-color-scheme: dark)").matches
  var isLightMode = window.matchMedia("(prefers-color-scheme: light)").matches
  var isNotSpecified = window.matchMedia("(prefers-color-scheme: no-preference)").matches
  var hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

  if (t === undefined){
    if (isLightMode) activateLightMode()
    else if (isDarkMode) activateDarkMode()
    else if (isNotSpecified || hasNoSupport){
      console.log('You specified no preference for a color scheme or your browser does not support it. I Schedule dark mode during night time.')
      var now = new Date()
      var hour = now.getHours()
      var isNight = hour < 6 || hour >= 18
      isNight ? activateDarkMode() : activateLightMode()
  }
  } else if (t == 'light') activateLightMode()
  else activateDarkMode()

} else if (autoChangeMode == '2'){
  now = new Date();
  hour = now.getHours();
  isNight = hour < 6 || hour >= 18
  if(t === undefined) isNight? activateDarkMode() : activateLightMode()
  else if (t === 'light') activateLightMode()
  else activateDarkMode() 
} else {
  if ( t == 'dark' ) activateDarkMode()
  else if ( t == 'light') activateLightMode()
}

function activateDarkMode(){
  document.documentElement.setAttribute('data-theme', 'dark')
  if (document.querySelector('meta[name="theme-color"]') !== null){
    document.querySelector('meta[name="theme-color"]').setAttribute('content','#000')
  }
}
function activateLightMode(){
  document.documentElement.setAttribute('data-theme', 'light')
  if (document.querySelector('meta[name="theme-color"]') !== null){
  document.querySelector('meta[name="theme-color"]').setAttribute('content','#fff')
  }
}</script><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css"><link rel="canonical" href="https://somunstao.github.io/2020/02/11/MyBatis%2001%EF%BC%9AMyBatis%E2%80%94%E2%80%94ORM%E6%80%9D%E6%83%B3%E3%80%81MyBatis%E6%A6%82%E8%BF%B0%E3%80%81%E6%97%A5%E5%BF%97%E6%A1%86%E6%9E%B6%E3%80%81OGNL/"><link rel="prev" title="MyBatis 02：CRUD操作、别名配置、属性配置、查询结果映射、Mapper组件、参数处理、注解开发" href="https://somunstao.github.io/2020/02/12/MyBatis%2002%EF%BC%9AMyBatis%E7%9A%84CRUD%E6%93%8D%E4%BD%9C%E3%80%81%E5%88%AB%E5%90%8D%E9%85%8D%E7%BD%AE%E3%80%81%E5%B1%9E%E6%80%A7%E9%85%8D%E7%BD%AE%E3%80%81%E6%9F%A5%E8%AF%A2%E7%BB%93%E6%9E%9C%E6%98%A0%E5%B0%84%E3%80%81Mapper%E7%BB%84%E4%BB%B6%E3%80%81%E5%8F%82%E6%95%B0%E5%A4%84%E7%90%86%E3%80%81%E6%B3%A8%E8%A7%A3%E5%BC%80%E5%8F%91/"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Titillium+Web"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: {"defaultEncoding":2,"translateDelay":0,"cookieDomain":"https://xxx/","msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  bookmark: {
    message_prev: '按',
    message_next: '键将本页加入书签'
  },
  runtime_unit: '天',
  runtime: true,
  copyright: undefined,
  ClickShowText: undefined,
  medium_zoom: false,
  fancybox: true,
  Snackbar: undefined,
  baiduPush: false,
  highlightCopy: true,
  highlightLang: true,
  highlightShrink: 'false',
  isFontAwesomeV5: true,
  isPhotoFigcaption: false,
  islazyload: false,
  isanchor: false
  
}</script><script>var GLOBAL_CONFIG_SITE = { 
  isPost: true,
  isHome: false,
  isSidebar: true  
  }</script><noscript><style>
#page-header {
  opacity: 1
}
.justified-gallery img{
  opacity: 1
}
</style></noscript><meta name="generator" content="Hexo 4.2.0"><link rel="alternate" href="/atom.xml" title="Somuns ` Tao" type="application/atom+xml">
</head><body><div id="mobile-sidebar"><div id="menu_mask"></div><div id="mobile-sidebar-menus"><div class="mobile_author_icon"><img class="avatar-img" src="/img/avatar.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="mobile_post_data"><div class="mobile_data_item is-center"><div class="mobile_data_link"><a href="/archives/"><div class="headline">文章</div><div class="length_num">148</div></a></div></div><div class="mobile_data_item is-center">      <div class="mobile_data_link"><a href="/tags/"><div class="headline">标签</div><div class="length_num">11</div></a></div></div><div class="mobile_data_item is-center">     <div class="mobile_data_link"><a href="/categories/"><div class="headline">分类</div><div class="length_num">11</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> 時間軸</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> 留言板</span></a></div></div></div></div><i class="fa fa-arrow-right on" id="toggle-sidebar" aria-hidden="true">     </i><div id="sidebar"><div class="sidebar-toc"><div class="sidebar-toc__title">目录</div><div class="sidebar-toc__progress"><span class="progress-notice">你已经读了</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar">     </div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#MyBatis——ORM思想、MyBatis概述、日志框架、OGNL"><span class="toc-number">1.</span> <span class="toc-text">MyBatis——ORM思想、MyBatis概述、日志框架、OGNL</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#MyBatis文档"><span class="toc-number">1.0.1.</span> <span class="toc-text">MyBatis文档</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#一、-走进MyBatis"><span class="toc-number">2.</span> <span class="toc-text">一、 走进MyBatis</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-1、什么是框架"><span class="toc-number">2.0.1.</span> <span class="toc-text">1.1、什么是框架?</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-2、-框架的形成"><span class="toc-number">2.0.2.</span> <span class="toc-text">1.2、 框架的形成</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-3、-ORM思想"><span class="toc-number">2.0.3.</span> <span class="toc-text">1.3、 ORM思想</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-4、-常见的ORM框架"><span class="toc-number">2.0.4.</span> <span class="toc-text">1.4、 常见的ORM框架</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#二、-MyBatis概述"><span class="toc-number">3.</span> <span class="toc-text">二、 MyBatis概述</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1、-MyBatis架构图"><span class="toc-number">3.0.1.</span> <span class="toc-text">2.1、 MyBatis架构图</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2、-MyBatis核心组件"><span class="toc-number">3.0.2.</span> <span class="toc-text">2.2、 MyBatis核心组件</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#三、-MyBatis入门"><span class="toc-number">4.</span> <span class="toc-text">三、 MyBatis入门</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1、-如何获得MyBatis？"><span class="toc-number">4.0.1.</span> <span class="toc-text">3.1、 如何获得MyBatis？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2、-配置文件"><span class="toc-number">4.0.2.</span> <span class="toc-text">3.2、 配置文件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-3、-查询操作"><span class="toc-number">4.0.3.</span> <span class="toc-text">3.3、 查询操作</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#四、-日志框架"><span class="toc-number">5.</span> <span class="toc-text">四、 日志框架</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#4-1、-为什么要用日志"><span class="toc-number">5.0.1.</span> <span class="toc-text">4.1、 为什么要用日志?</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-2、-常见的日志框架"><span class="toc-number">5.0.2.</span> <span class="toc-text">4.2、 常见的日志框架</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-3、-日志级别"><span class="toc-number">5.0.3.</span> <span class="toc-text">4.3、 日志级别</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-4、-日志文件的组成"><span class="toc-number">5.0.4.</span> <span class="toc-text">4.4、 日志文件的组成</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-5、-日志的使用"><span class="toc-number">5.0.5.</span> <span class="toc-text">4.5、 日志的使用</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#五、OGNL"><span class="toc-number">6.</span> <span class="toc-text">五、OGNL</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#六、-作用域和生命周期"><span class="toc-number">7.</span> <span class="toc-text">六、 作用域和生命周期</span></a></li></ol></div></div></div><div id="body-wrap"><div class="post-bg" id="nav" style="background-image: url(https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg)"><div id="page-header"><span class="pull_left" id="blog_name"><a class="blog_title" id="site-name" href="/">Somuns ` Tao</a></span><span class="pull_right menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> 時間軸</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> 留言板</span></a></div></div><span class="toggle-menu close"><a class="site-page"><i class="fa fa-bars fa-fw" aria-hidden="true"></i></a></span></span></div><div id="post-info"><div id="post-title"><div class="posttitle">MyBatis 01：	MyBatis——ORM思想、MyBatis概述、日志框架、OGNL</div></div><div id="post-meta"><div class="meta-firstline"><time class="post-meta__date"><span class="post-meta__date-created" title="发表于 2020-02-11 00:00:00"><i class="fa fa-calendar" aria-hidden="true"></i> 发表于 2020-02-11</span><span class="post-meta__separator">|</span><span class="post-meta__date-updated" title="更新于 2020-08-02 14:47:27"><i class="fa fa-history" aria-hidden="true"></i> 更新于 2020-08-02</span></time><span class="post-meta__categories"><span class="post-meta__separator">|</span><i class="fa fa-inbox post-meta__icon" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/MyBatis/">MyBatis</a></span></div><div class="meta-secondline"> </div><div class="meta-thirdline"><span class="post-meta-pv-cv"><i class="fa fa-eye post-meta__icon" aria-hidden="true"> </i><span>阅读量:</span><span id="busuanzi_value_page_pv"></span></span><span class="post-meta-commentcount"></span></div></div></div></div><main class="layout_post" id="content-inner"><article id="post"><div class="post-content" id="article-container"><h1 id="MyBatis——ORM思想、MyBatis概述、日志框架、OGNL"><a href="#MyBatis——ORM思想、MyBatis概述、日志框架、OGNL" class="headerlink" title="MyBatis——ORM思想、MyBatis概述、日志框架、OGNL"></a>MyBatis——ORM思想、MyBatis概述、日志框架、OGNL</h1><ul>
<li>一、走进MyBatis<ul>
<li><a href="https://blog.csdn.net/m0_37989980/article/details/104423309#j2" target="_blank" rel="noopener">1.1、什么是框架?</a></li>
<li><a href="https://blog.csdn.net/m0_37989980/article/details/104423309#j3" target="_blank" rel="noopener">1.2、 框架的形成</a></li>
<li><a href="https://blog.csdn.net/m0_37989980/article/details/104423309#j4" target="_blank" rel="noopener">1.3、 ORM思想</a></li>
<li><a href="https://blog.csdn.net/m0_37989980/article/details/104423309#j5" target="_blank" rel="noopener">1.4、 常见的ORM框架</a></li>
</ul>
</li>
<li>二、 MyBatis概述<ul>
<li><a href="https://blog.csdn.net/m0_37989980/article/details/104423309#j7" target="_blank" rel="noopener">2.1、MyBatis架构图</a></li>
<li><a href="https://blog.csdn.net/m0_37989980/article/details/104423309#j8" target="_blank" rel="noopener">2.2、MyBatis核心组件</a></li>
</ul>
</li>
<li>三、MyBatis入门<ul>
<li><a href="https://blog.csdn.net/m0_37989980/article/details/104423309#j10" target="_blank" rel="noopener">3.1、如何获得MyBatis？</a></li>
<li><a href="https://blog.csdn.net/m0_37989980/article/details/104423309#j11" target="_blank" rel="noopener">3.2、配置文件</a></li>
<li><a href="https://blog.csdn.net/m0_37989980/article/details/104423309#j12" target="_blank" rel="noopener">3.3、查询代码</a></li>
</ul>
</li>
<li>四、日志框架<ul>
<li><a href="https://blog.csdn.net/m0_37989980/article/details/104423309#j14" target="_blank" rel="noopener">4.1、为什么要用日志?</a></li>
<li><a href="https://blog.csdn.net/m0_37989980/article/details/104423309#j15" target="_blank" rel="noopener">4.2、常见的日志框架</a></li>
<li><a href="https://blog.csdn.net/m0_37989980/article/details/104423309#j16" target="_blank" rel="noopener">4.3、日志级别</a></li>
<li><a href="https://blog.csdn.net/m0_37989980/article/details/104423309#j17" target="_blank" rel="noopener">4.4、日志文件的组成</a></li>
<li><a href="https://blog.csdn.net/m0_37989980/article/details/104423309#j18" target="_blank" rel="noopener">4.5、日志的使用</a></li>
</ul>
</li>
<li><a href="https://blog.csdn.net/m0_37989980/article/details/104423309#j19" target="_blank" rel="noopener">五、OGNL</a></li>
<li><a href="https://blog.csdn.net/m0_37989980/article/details/104423309#j21" target="_blank" rel="noopener">六、作用域和生命周期</a></li>
</ul>
<h3 id="MyBatis文档"><a href="#MyBatis文档" class="headerlink" title="MyBatis文档"></a><a href="https://mybatis.org/mybatis-3/zh/index.html" target="_blank" rel="noopener">MyBatis文档</a></h3><p><img src="https://img-blog.csdnimg.cn/20200221095323566.png" alt="在这里插入图片描述"></p>
<blockquote>
<p>MyBatis源码及资料: <a href="https://github.com/coderZYGui/MyBatis-Study" target="_blank" rel="noopener">https://github.com/coderZYGui/MyBatis-Study</a></p>
</blockquote>
<blockquote>
<p>MyBatis系列</p>
<ol>
<li><a href="https://blog.csdn.net/m0_37989980/article/details/104423309" target="_blank" rel="noopener">MyBatis — ORM思想、MyBatis概述、日志框架、OGNL</a></li>
<li><a href="https://blog.csdn.net/m0_37989980/article/details/104445142" target="_blank" rel="noopener">MyBaits — MyBatis的CRUD操作、别名配置、属性配置、查询结果映射、Mapper组件、参数处理、注解开发</a></li>
<li><a href="https://blog.csdn.net/m0_37989980/article/details/104438897" target="_blank" rel="noopener">MyBatis — 动态SQL、if、where、set、foreach、sql片段</a></li>
<li><a href="https://blog.csdn.net/m0_37989980/article/details/104510120" target="_blank" rel="noopener">MyBatis — 对象关系映射、延迟加载、关联对象的配置选择</a></li>
<li><a href="https://blog.csdn.net/m0_37989980/article/details/104519539" target="_blank" rel="noopener">MyBatis — 缓存机制、EhCache第三方缓存</a></li>
<li><a href="https://blog.csdn.net/m0_37989980/article/details/104521920" target="_blank" rel="noopener">MyBatis — MyBatis Generator插件使用(配置详解)</a></li>
</ol>
</blockquote>
<h1 id="一、-走进MyBatis"><a href="#一、-走进MyBatis" class="headerlink" title="一、 走进MyBatis"></a>一、 走进MyBatis</h1><p><a href="https://blog.csdn.net/m0_37989980/article/details/104423309#j0" target="_blank" rel="noopener">跳转到目录</a></p>
<h3 id="1-1、什么是框架"><a href="#1-1、什么是框架" class="headerlink" title="1.1、什么是框架?"></a>1.1、什么是框架?</h3><p><a href="https://blog.csdn.net/m0_37989980/article/details/104423309#j0" target="_blank" rel="noopener">跳转到目录</a><br>什么是框架,框架从何而来,为什么使用框架?<br>框架( framework) :</p>
<ol>
<li>是一系列jar包,其本质是对JDK功能的拓展。</li>
<li>框架是一组程序的集合,包含了-系列的最佳实践,作用是解决某-一个领域的问题。</li>
</ol>
<h3 id="1-2、-框架的形成"><a href="#1-2、-框架的形成" class="headerlink" title="1.2、 框架的形成"></a>1.2、 框架的形成</h3><p><a href="https://blog.csdn.net/m0_37989980/article/details/104423309#j0" target="_blank" rel="noopener">跳转到目录</a><br>最佳实践( Best Practice) :</p>
<ul>
<li>实际上是无数程序员经历过无数次尝试之后,总结出来的处理特定问题的特定方法。</li>
<li>如果把程序员的自由发挥看作是一条通往成功的途径 ,最佳实践就是其中的最短路径,能极大的解放生产力</li>
</ul>
<p><img src="https://img-blog.csdnimg.cn/20200221101457614.png" alt="Web开发中的最佳实践:根据职责的纵向划分:**控制层、业务层、持久层:**控制层: web/mvc: 负责处理与界面交互的相关操作(Struts2/Spring MVC)业务层: service:负责复杂的业务逻辑计算和判断(Spring)持久层: dao:负责将业务逻辑数据进行持久化存储(MyBatis/Hibernate)"></p>
<p><img src="https://img-blog.csdnimg.cn/20200221101725491.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzM3OTg5OTgw,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
<h3 id="1-3、-ORM思想"><a href="#1-3、-ORM思想" class="headerlink" title="1.3、 ORM思想"></a>1.3、 ORM思想</h3><p><a href="https://blog.csdn.net/m0_37989980/article/details/104423309#j0" target="_blank" rel="noopener">跳转到目录</a></p>
<ul>
<li>对象关系映射(Object Relational Mapping, 简称ORM): 是一种为了解决面向对象与关系数据库存在的互不匹配的问题的技术. 简单的说,ORM是通过使用描述对象和数据库之间映射的元数据, 将Java程序中的对象自动持久化到关系数据库中.</li>
<li>ORM 主要解决<strong>对象-关系的映射</strong></li>
</ul>
<table>
<thead>
<tr>
<th>面向对象概念</th>
<th>面向关系概念</th>
</tr>
</thead>
<tbody><tr>
<td>类</td>
<td>表</td>
</tr>
<tr>
<td>对象</td>
<td>表的行(记录)</td>
</tr>
<tr>
<td>属性</td>
<td>表的列(字段)</td>
</tr>
</tbody></table>
<p><img src="https://img-blog.csdnimg.cn/20200221103702710.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzM3OTg5OTgw,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
<h3 id="1-4、-常见的ORM框架"><a href="#1-4、-常见的ORM框架" class="headerlink" title="1.4、 常见的ORM框架"></a>1.4、 常见的ORM框架</h3><p><a href="https://blog.csdn.net/m0_37989980/article/details/104423309#j0" target="_blank" rel="noopener">跳转到目录</a><br>把对象数据库的操作封装成一套API,具有操作数据库的增删改查等操作,而且具有独立性,当持久层技术层发生改变时,不用修改任何业务层代码.</p>
<ul>
<li>JPA : 本身是一种ORM规范,不是ORM框架. 由各大ORM框架提供实现.</li>
<li>Hibernate : 以前最流行的ORM框架.</li>
<li>MyBatis : 是目前最受欢迎的持久层解决方案.</li>
</ul>
<h1 id="二、-MyBatis概述"><a href="#二、-MyBatis概述" class="headerlink" title="二、 MyBatis概述"></a>二、 MyBatis概述</h1><p><a href="https://blog.csdn.net/m0_37989980/article/details/104423309#j0" target="_blank" rel="noopener">跳转到目录</a></p>
<ul>
<li>MyBatis 是一款优秀的持久层框架</li>
<li>它支持定制化 SQL、存储过程以及高级映射。</li>
<li>MyBatis 避免了几乎所有的 JDBC 代码和手动设置参数以及获取结果集。</li>
<li>MyBatis 可以使用简单的 XML 或注解来配置和映射原生类型、接口和 Java 的 POJO（Plain Old Java Objects，普通老式 Java 对象）为数据库中的记录。</li>
</ul>
<h3 id="2-1、-MyBatis架构图"><a href="#2-1、-MyBatis架构图" class="headerlink" title="2.1、 MyBatis架构图"></a>2.1、 MyBatis架构图</h3><p><a href="https://blog.csdn.net/m0_37989980/article/details/104423309#j0" target="_blank" rel="noopener">跳转到目录</a><br><img src="https://img-blog.csdnimg.cn/20200221105013490.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzM3OTg5OTgw,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
<h3 id="2-2、-MyBatis核心组件"><a href="#2-2、-MyBatis核心组件" class="headerlink" title="2.2、 MyBatis核心组件"></a>2.2、 MyBatis核心组件</h3><p><a href="https://blog.csdn.net/m0_37989980/article/details/104423309#j0" target="_blank" rel="noopener">跳转到目录</a></p>
<ul>
<li><code>SqISessionFactoryBuilder (构建器)</code>: 根据配置信息或Java代码来构建- SqlSessionFactory对象。作用:创建SqlSessionFactory对象。</li>
<li><code>SqlSessionFactory (会话工厂)</code> :好比是DataSource ,线程安全的,在应用运行期间不要重复创建多次,建议使用单例模式。<br><strong>作用:</strong> 创建SqlSession对象</li>
<li><code>SqISession (会话)</code> :好比是<strong>Connection</strong> ,线程不安全的,每次使用开启新的SqlSession对象,使用完毕正常关闭,默认使用DefaultSqlSession。提供操作数据库的增删改查方法,可以调用操作方法,也可以操作Mapper组件。</li>
<li><code>Executor (执行器)</code> :SqlSession本身不能直接操作数据库,需要Executor来完成,该接口有两个实现:缓存执行器(缺省)、基本执行器。</li>
<li><code>MappedStatement</code> :映射语句封装执行语句时的信息如SQL、输入参数、输出结果</li>
</ul>
<p><strong>原理图:</strong><br><img src="https://img-blog.csdnimg.cn/20200221105625838.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzM3OTg5OTgw,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>更具体的底层原理图:<br><img src="https://img-blog.csdnimg.cn/20200221105727470.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzM3OTg5OTgw,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>涉及的对象:</p>
<ul>
<li><strong>SqlSession</strong> :表示和数据库交互的会话,完成必要数据库增删改查功能。</li>
<li>Executor :执行器,是MyBatis调度的核心,负责SQL语句的生成和查询缓存的维护。</li>
<li>StatementHandler :语句处理器,封装了JDBC的DML、DQL 操作、参数设置。-</li>
<li>ParameterHandler :参数处理器,把用户传入参数转换为JDBC需要的参数值。-</li>
<li>ResultSetHandler :结果集处理器,把结果集中的数据封装到List集合。-</li>
<li>TypeHandler :类型转换器, Java类型和JDBC类型的相互转换。</li>
<li>MappedStatement :映射语句对象,维护了一条&lt; insertlupdateldelete|select&gt;节点的封装。</li>
<li>SqlSource : SQL源,根据用户传入的参数生成SQL语句,并封装到BoundSql中。</li>
<li>BoundSql : SQL绑定,封装SQL语句和对应的参数信息。</li>
<li>Configuration : MyBatis 全局配置对象,封装所有配置信息。</li>
</ul>
<p><img src="https://img-blog.csdnimg.cn/20200221110725191.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzM3OTg5OTgw,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
<h1 id="三、-MyBatis入门"><a href="#三、-MyBatis入门" class="headerlink" title="三、 MyBatis入门"></a>三、 MyBatis入门</h1><p><a href="https://blog.csdn.net/m0_37989980/article/details/104423309#j0" target="_blank" rel="noopener">跳转到目录</a></p>
<h3 id="3-1、-如何获得MyBatis？"><a href="#3-1、-如何获得MyBatis？" class="headerlink" title="3.1、 如何获得MyBatis？"></a>3.1、 如何获得MyBatis？</h3><p><a href="https://blog.csdn.net/m0_37989980/article/details/104423309#j0" target="_blank" rel="noopener">跳转到目录</a><br>通过Maven仓库</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- https://mvnrepository.com/artifact/org.mybatis/mybatis --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.mybatis<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.5.3<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">123456</span><br></pre></td></tr></table></figure>

<h3 id="3-2、-配置文件"><a href="#3-2、-配置文件" class="headerlink" title="3.2、 配置文件"></a>3.2、 配置文件</h3><p><a href="https://blog.csdn.net/m0_37989980/article/details/104423309#j0" target="_blank" rel="noopener">跳转到目录</a><br>MyBatis 自身的配置文件有两种:</p>
<ul>
<li><strong>MyBatis全局配置文件/主配置文件.</strong><ul>
<li>起名: 一般规定 <code>mybatis-config.xml</code></li>
<li>路径: 放在resources资源路径下</li>
<li>参照: <a href="https://mybatis.org/mybatis-3/zh/configuration.html" target="_blank" rel="noopener">mybatis文档的 —- XML配置章节</a></li>
<li>内容:<ul>
<li>全局的配置信息</li>
<li>属性配置信息</li>
<li>插件配置信息</li>
<li>配置环境信息(连接池+事务)</li>
<li>关联映射文件</li>
</ul>
</li>
</ul>
</li>
</ul>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">configuration</span></span></span><br><span class="line"><span class="meta">        <span class="meta-keyword">PUBLIC</span> <span class="meta-string">"-//mybatis.org//DTD Config 3.0//EN"</span></span></span><br><span class="line"><span class="meta">        <span class="meta-string">"http://mybatis.org/dtd/mybatis-3-config.dtd"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--1.配置数据库的环境--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">environments</span> <span class="attr">default</span>=<span class="string">"development"</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--开发环境:在以后事务管理器和连接池都是交给Spring框架来管理--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">environment</span> <span class="attr">id</span>=<span class="string">"development"</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!--事务管理器--&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">transactionManager</span> <span class="attr">type</span>=<span class="string">"JDBC"</span>/&gt;</span></span><br><span class="line">            <span class="comment">&lt;!--连接池--&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">dataSource</span> <span class="attr">type</span>=<span class="string">"POOLED"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"driver"</span> <span class="attr">value</span>=<span class="string">"com.mysql.jdbc.Driver"</span>/&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"url"</span> <span class="attr">value</span>=<span class="string">"jdbc:mysql://localhost:3306/mybatis?useSSL=true<span class="symbol">&amp;amp;</span>useUnicode=true<span class="symbol">&amp;amp;</span>characterEncoding=UTF-8"</span>/&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"username"</span> <span class="attr">value</span>=<span class="string">"root"</span>/&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"password"</span> <span class="attr">value</span>=<span class="string">"1111"</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">dataSource</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">environment</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">environments</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--2.关联映射文件--&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">        注意这里的路径是mybatis-config.xml文件找到UserMapper.xml的路径</span></span><br><span class="line"><span class="comment">        如果在java的目录下,找不到UserMapper.xml</span></span><br><span class="line"><span class="comment">     --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">mappers</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">mapper</span> <span class="attr">resource</span>=<span class="string">"com/sunny/dao/UserMapper.xml"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">mappers</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br><span class="line">1234567891011121314151617181920212223242526272829</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>MyBatis映射文件/Mapper文件</strong><ul>
<li>起名: 一般见名知意 <code>XxxMapper.xml</code>, Xxx表示模型对象</li>
<li>路径: Mapper文件应该放到Mapper接口的路径.</li>
<li>参照: <a href="https://mybatis.org/mybatis-3/zh/sqlmap-xml.html#" target="_blank" rel="noopener">mybatis文档的 — XML映射文件章节</a></li>
<li>内容:<ul>
<li>编写增删改查的SQL, 把SQL存放到<code>insert | update | delete | select</code>元素中去</li>
<li>结果集映射: 解决表中的列和对象中属性不匹配的问题.</li>
<li>缓存配置</li>
</ul>
</li>
</ul>
</li>
</ul>
<p><img src="https://img-blog.csdnimg.cn/20200221113335182.png" alt="在这里插入图片描述"></p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">mapper</span></span></span><br><span class="line"><span class="meta">        <span class="meta-keyword">PUBLIC</span> <span class="meta-string">"-//mybatis.org//DTD Mapper 3.0//EN"</span></span></span><br><span class="line"><span class="meta">        <span class="meta-string">"http://mybatis.org/dtd/mybatis-3-mapper.dtd"</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--命名空间,类似包的概念: namespace:绑定一个对应的Dao/Mapper接口--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">mapper</span> <span class="attr">namespace</span>=<span class="string">"com.sunny.dao.UserDao"</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">        select元素: 专门用来做查询的SQL</span></span><br><span class="line"><span class="comment">            -id属性: 唯一标识,用来标识某一条SQL语句</span></span><br><span class="line"><span class="comment">            -parameterType属性: 表示执行该SQL语句需要的参数的类型(建议不写),MyBatis可以自行推断出来</span></span><br><span class="line"><span class="comment">            -resultType属性: 把结果集中每一行数据封装成什么类型的对象</span></span><br><span class="line"><span class="comment">    --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">"getUserList"</span> <span class="attr">resultType</span>=<span class="string">"com.sunny.domain.User"</span>&gt;</span></span><br><span class="line">        SELECT * FROM user;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- #&#123;id&#125; 相当于在测试方法中selectOne传递过来的值 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">"getUser"</span> <span class="attr">resultType</span>=<span class="string">"com.sunny.domain.User"</span>&gt;</span></span><br><span class="line">        SELECT * FROM user WHERE id = #&#123;id&#125;;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">mapper</span>&gt;</span></span><br><span class="line">1234567891011121314151617181920</span><br></pre></td></tr></table></figure>

<h3 id="3-3、-查询操作"><a href="#3-3、-查询操作" class="headerlink" title="3.3、 查询操作"></a>3.3、 查询操作</h3><p><a href="https://blog.csdn.net/m0_37989980/article/details/104423309#j0" target="_blank" rel="noopener">跳转到目录</a></p>
<ul>
<li>UserDaoTest</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserDaoTest</span> </span>&#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 查询所有用户</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@throws</span> IOException</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">queryUserListTest</span><span class="params">()</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//1. 获得sqlSession对象</span></span><br><span class="line">        <span class="comment">// SqlSession sqlSession = MybatisUtils.getSqlSession();</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//1. 从classpath路径去加载MyBatis全局配置文件:mybatis-config.xml</span></span><br><span class="line">        InputStream in = Resources.getResourceAsStream(<span class="string">"mybatis-config.xml"</span>);</span><br><span class="line">        <span class="comment">//2. 创建sqlSessionFactory对象,好比是DataSource</span></span><br><span class="line">        SqlSessionFactory factory = <span class="keyword">new</span> SqlSessionFactoryBuilder().build(in);</span><br><span class="line">        <span class="comment">//3. 创建sqlSession对象,好比是Connection</span></span><br><span class="line">        SqlSession sqlSession = factory.openSession();</span><br><span class="line">        <span class="comment">//4. 具体操作</span></span><br><span class="line">        <span class="comment">// 执行SQL(方式一)</span></span><br><span class="line">         UserDao userDao = sqlSession.getMapper(UserDao<span class="class">.<span class="keyword">class</span>)</span>;</span><br><span class="line">         List&lt;User&gt; userList = userDao.getUserList();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 方式二</span></span><br><span class="line">        <span class="comment">// List&lt;User&gt; userList = sqlSession.selectList("com.sunny.dao.UserDao.getUserList");</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (User user : userList) &#123;</span><br><span class="line">            System.out.println(user);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 关闭sqlSession</span></span><br><span class="line">        sqlSession.close();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 查询id为1的用户</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@throws</span> IOException</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">queryOneUserTest</span><span class="params">()</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        <span class="comment">// 加载全局配置文件</span></span><br><span class="line">        InputStream in = Resources.getResourceAsStream(<span class="string">"mybatis-config.xml"</span>);</span><br><span class="line">        <span class="comment">// 构建sqlSessionFactory工厂类对象</span></span><br><span class="line">        SqlSessionFactory factory = <span class="keyword">new</span> SqlSessionFactoryBuilder().build(in);</span><br><span class="line">        <span class="comment">// 根据sqlSession类对象来创建SqlSession对象</span></span><br><span class="line">        SqlSession sqlSession = factory.openSession();</span><br><span class="line">        <span class="comment">// sqlSession相当于Connection,来执行SQL语句</span></span><br><span class="line">        User user = sqlSession.selectOne(<span class="string">"com.sunny.dao.UserDao.getUser"</span>, <span class="number">1L</span>);</span><br><span class="line">        System.out.println(user);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="number">1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950</span></span><br></pre></td></tr></table></figure>

<ul>
<li>抽取的MybatisUtils</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// sqlSessionFactory 生产 sqlSession</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MybatisUtils</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span>  SqlSessionFactory sqlSessionFactory;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">// 使用Mybatis的第一步: 获取sqlSessionFactory对象</span></span><br><span class="line">            String resource = <span class="string">"mybatis-config.xml"</span>;</span><br><span class="line">            InputStream inputStream = Resources.getResourceAsStream(resource);</span><br><span class="line">            sqlSessionFactory = <span class="keyword">new</span> SqlSessionFactoryBuilder().build(inputStream);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 既然有了 SqlSessionFactory，顾名思义，我们就可以从中获得 SqlSession 的实例了。</span></span><br><span class="line">    <span class="comment">// SqlSession 完全包含了面向数据库执行 SQL 命令所需的所有方法。</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> SqlSession <span class="title">getSqlSession</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> sqlSessionFactory.openSession();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="number">12345678910111213141516171819202122</span></span><br></pre></td></tr></table></figure>

<h1 id="四、-日志框架"><a href="#四、-日志框架" class="headerlink" title="四、 日志框架"></a>四、 日志框架</h1><p><a href="https://blog.csdn.net/m0_37989980/article/details/104423309#j0" target="_blank" rel="noopener">跳转到目录</a><br>参考mybatis文档: <a href="https://mybatis.org/mybatis-3/zh/logging.html" target="_blank" rel="noopener">日志</a></p>
<h3 id="4-1、-为什么要用日志"><a href="#4-1、-为什么要用日志" class="headerlink" title="4.1、 为什么要用日志?"></a>4.1、 为什么要用日志?</h3><p><a href="https://blog.csdn.net/m0_37989980/article/details/104423309#j0" target="_blank" rel="noopener">跳转到目录</a></p>
<ul>
<li>比起<code>System.out.println</code>, 日志框架可以把日志的输出和代码分离;</li>
<li>日志框架可以方便定义日志的输出环境,如 控制台,文件,数据库;</li>
<li>日志框架可以方便的定义日志的输出格式和输出级别;</li>
</ul>
<p><img src="https://img-blog.csdnimg.cn/20200221152900490.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzM3OTg5OTgw,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
<h3 id="4-2、-常见的日志框架"><a href="#4-2、-常见的日志框架" class="headerlink" title="4.2、 常见的日志框架"></a>4.2、 常见的日志框架</h3><p><a href="https://blog.csdn.net/m0_37989980/article/details/104423309#j0" target="_blank" rel="noopener">跳转到目录</a></p>
<ul>
<li>JDK-Logging : JDK1.4版本以后开始提供的一一个自带的日志库实现,太简单, 不支持占位符显示,拓展性差,使用很少。</li>
<li>Commons-logging : Apache提供的日志规范,需要用户可以选择第三方的日志组件作为具体实现,本身会通过动态查找的机制找出真正日志的实现库。</li>
<li><strong>Log4j</strong> : Apache下功能非常丰富的日志库实现,功能强大,可以把日志输出到控制台、文件中,是出现比较早且最受欢迎日志组件。并且Log4j可以允许自定义日志格式和日志等级,帮助开发人员全方位的掌控日志信息。</li>
<li>Log4j2 :是Log4j的升级,基本上把Log4j版本的核心全部重构,而且基于Log4j做了很多优化和升级。SLF4J :好比是Commons-logging是日志门面,本身并无日志的实现，制定了日志的规范,使用时得拷贝整合包。</li>
<li>Logback :由Log4j创始人设计的另-个开源日志组件,也是作为Log4j的替代者出现的。</li>
<li>速度和效率都比LOG4J高,而且官方是建议和SLF4j -起使用 ，Logback. sIf4j、 Log4j 都是出自同-一个人，所以默认对SLF4J无缝结合。</li>
</ul>
<h3 id="4-3、-日志级别"><a href="#4-3、-日志级别" class="headerlink" title="4.3、 日志级别"></a>4.3、 日志级别</h3><p><a href="https://blog.csdn.net/m0_37989980/article/details/104423309#j0" target="_blank" rel="noopener">跳转到目录</a></p>
<ul>
<li><code>ERROR &gt; WARN&gt; INFO &gt; DEBUG &gt; TRACE</code></li>
<li>如果设置级别为INFO ,则优先级高于等于INFO级别(如: INFO、WARN、ERROR )的日志信息将可以被输出,小于该级别的如DEBUG和TRACE将不会被输出。总结:日志级别越低,输出的日志越详细.</li>
</ul>
<h3 id="4-4、-日志文件的组成"><a href="#4-4、-日志文件的组成" class="headerlink" title="4.4、 日志文件的组成"></a>4.4、 日志文件的组成</h3><p><a href="https://blog.csdn.net/m0_37989980/article/details/104423309#j0" target="_blank" rel="noopener">跳转到目录</a></p>
<p>三部分组成</p>
<ul>
<li><strong>root</strong> :设置默认的日志输出级别和风格。</li>
<li><strong>logger</strong> :设置自定义日志级别和风格。</li>
<li><strong>appender</strong> :可以把日志输出到控制台或文件中去。</li>
</ul>
<p><img src="https://img-blog.csdnimg.cn/20200221153301529.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzM3OTg5OTgw,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
<h3 id="4-5、-日志的使用"><a href="#4-5、-日志的使用" class="headerlink" title="4.5、 日志的使用"></a>4.5、 日志的使用</h3><p><a href="https://blog.csdn.net/m0_37989980/article/details/104423309#j0" target="_blank" rel="noopener">跳转到目录</a></p>
<ul>
<li>首先添加Log4j的坐标</li>
</ul>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- https://mvnrepository.com/artifact/log4j/log4j --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>log4j<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>log4j<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.2.17<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">123456</span><br></pre></td></tr></table></figure>

<ul>
<li>在Mybatis的全局配置文件中设置</li>
</ul>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"> <span class="comment">&lt;!--日志技术--&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">settings</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">setting</span> <span class="attr">name</span>=<span class="string">"logImpl"</span> <span class="attr">value</span>=<span class="string">"LOG4J"</span>/&gt;</span></span><br><span class="line"> <span class="tag">&lt;/<span class="name">settings</span>&gt;</span></span><br><span class="line">1234</span><br></pre></td></tr></table></figure>

<ul>
<li>定义日志文件</li>
</ul>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"># Global logging configuration</span><br><span class="line">#设置全局的日志配置:输出Error级别,输出到控制台</span><br><span class="line">log4j.rootLogger=ERROR, stdout</span><br><span class="line"># MyBatis logging configuration...</span><br><span class="line">#设置自定义的日志级别(测试类的包名com.sunny.dao)</span><br><span class="line">log4j.logger.com.sunny.dao=DEBUG</span><br><span class="line"># Console output...</span><br><span class="line">log4j.appender.stdout=org.apache.log4j.ConsoleAppender</span><br><span class="line">log4j.appender.stdout.layout=org.apache.log4j.PatternLayout</span><br><span class="line">log4j.appender.stdout.layout.ConversionPattern=%5p [%t] - %m%n</span><br><span class="line">12345678910</span><br></pre></td></tr></table></figure>

<ul>
<li>自定义日志</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">    <span class="comment">// 自定义日志</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> Logger logger = Logger.getLogger(UserDaoTest<span class="class">.<span class="keyword">class</span>)</span>;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testLogger</span><span class="params">()</span> <span class="keyword">throws</span> Exception</span>&#123;</span><br><span class="line">        <span class="comment">// 如果日志输出级别为INFO,则输出</span></span><br><span class="line">        <span class="keyword">if</span> (logger.isInfoEnabled())&#123;</span><br><span class="line">            logger.info(<span class="string">"银行转账操作"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (logger.isDebugEnabled())&#123;</span><br><span class="line">            logger.debug(<span class="string">"查询数据库"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (logger.isTraceEnabled())&#123;</span><br><span class="line">            logger.trace(<span class="string">"连接数据库"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (logger.isTraceEnabled())&#123;</span><br><span class="line">            logger.trace(<span class="string">"执行SQL"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (logger.isDebugEnabled())&#123;</span><br><span class="line">            logger.debug(<span class="string">"转账"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (logger.isInfoEnabled())&#123;</span><br><span class="line">            logger.info(<span class="string">"银行转账成功"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="number">12345678910111213141516171819202122232425</span></span><br></pre></td></tr></table></figure>

<h1 id="五、OGNL"><a href="#五、OGNL" class="headerlink" title="五、OGNL"></a>五、OGNL</h1><p><a href="https://blog.csdn.net/m0_37989980/article/details/104423309#j0" target="_blank" rel="noopener">跳转到目录</a><br><strong>对象导航图语言</strong>（Object Graph Navigation Language），简称OGNL，是应用于Java中的一个开源的表达式语言（Expression Language），它被集成在Struts2等框架中，作用是对数据进行访问，它拥有类型转换、访问对象方法、操作集合对象等功能。</p>
<p><img src="https://img-blog.csdnimg.cn/20200221160224788.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzM3OTg5OTgw,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
<h1 id="六、-作用域和生命周期"><a href="#六、-作用域和生命周期" class="headerlink" title="六、 作用域和生命周期"></a>六、 作用域和生命周期</h1><p><a href="https://blog.csdn.net/m0_37989980/article/details/104423309#j0" target="_blank" rel="noopener">跳转到目录</a></p>
<ul>
<li>SqISessionFactoryBuilder<br>这个类可以被实例化、使用和丢弃,一旦创建了SqlSessionFactory ,就不再需要它了。因此SqlSessionFactoryBuilder实例的最佳作用域是方法作用域(也就是局部方法变量)。你可以重用SqlSessionFactoryBuilder 来创建多个SqlSessionFactory 实例,但是最好还是不要让其一直存在以保证所有的XML解析资源开放给更重要的事情.</li>
<li>SqISessionFactory<br>SqlSessionFactory 一旦被创建就应该在应用的运行期间一-直存在,没有任何理由对它进行清除或重建。使用SqISessionFactory 的最佳实践是在应用运行期间不要重复创建多次, 多次重建SqlSessionFactory被视为一种代码”坏味道( bad smell)”.因此SqISessionFactory 的最佳作用域是应用作用域。有很多方法可以做到,最简单的就是使用单例模式或者静态单例模式。</li>
<li>SqlSession<br>每个线程都应该有它自己的SqISession 实例。SqlSession的实例不是线程安全的,因此是不能被共享的,所以它的最佳的作用域是请求或方法作用域。绝对不能将SqlSession 实例的引用放在一个类的静态域,甚至-一个类的实例变量也不行。也绝不能将SqlSession 实例的引用放在任何类型的管理作用域中, 比如Servlet架构中的HttpSession. 如果你现在正在使用一种Web框架,要考虑SqISession放在-个和HTTP请求对象相似的作用域中。换句话说,每次收到的HTTP请求,就可以打开一个Sq|Session ,返回一个响应,就关闭它。这个关闭操作是很重要的,你应该把这个关闭操作放到finally 块中以确保每次都能执行关闭。下面的示例就是一-个确保 SqISession 关闭的标准模式:</li>
</ul>
</div><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:undefined">陈涛</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="https://somunstao.github.io/2020/02/11/MyBatis%2001%EF%BC%9AMyBatis%E2%80%94%E2%80%94ORM%E6%80%9D%E6%83%B3%E3%80%81MyBatis%E6%A6%82%E8%BF%B0%E3%80%81%E6%97%A5%E5%BF%97%E6%A1%86%E6%9E%B6%E3%80%81OGNL/">https://somunstao.github.io/2020/02/11/MyBatis 01：MyBatis——ORM思想、MyBatis概述、日志框架、OGNL/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://SomunsTao.github.io" target="_blank">Somuns ` Tao</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/MyBatis/">MyBatis</a></div><div class="post_share"><div class="social-share" data-image="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css"/><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js"></script></div></div><div class="post-reward"><a class="reward-button button--primary button--animated"> <i class="fa fa-qrcode"></i> 打赏<div class="reward-main"><ul class="reward-all"><li class="reward-item"><img class="post-qr-code__img" src="/img/wechat.jpg" alt="微信"/><div class="post-qr-code__desc">微信</div></li><li class="reward-item"><img class="post-qr-code__img" src="/img/alipay.jpg" alt="支付寶"/><div class="post-qr-code__desc">支付寶</div></li></ul></div></a></div><nav class="pagination_post" id="pagination"><div class="prev-post pull_left"><a href="/2020/02/12/MyBatis%2002%EF%BC%9AMyBatis%E7%9A%84CRUD%E6%93%8D%E4%BD%9C%E3%80%81%E5%88%AB%E5%90%8D%E9%85%8D%E7%BD%AE%E3%80%81%E5%B1%9E%E6%80%A7%E9%85%8D%E7%BD%AE%E3%80%81%E6%9F%A5%E8%AF%A2%E7%BB%93%E6%9E%9C%E6%98%A0%E5%B0%84%E3%80%81Mapper%E7%BB%84%E4%BB%B6%E3%80%81%E5%8F%82%E6%95%B0%E5%A4%84%E7%90%86%E3%80%81%E6%B3%A8%E8%A7%A3%E5%BC%80%E5%8F%91/"><img class="prev_cover" src="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg" onerror="onerror=null;src='/img/404.jpg'"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">MyBatis 02：CRUD操作、别名配置、属性配置、查询结果映射、Mapper组件、参数处理、注解开发</div></div></a></div></nav><div class="relatedPosts"><div class="relatedPosts_headline"><i class="fa fa-fw fa-thumbs-up" aria-hidden="true"></i><span> 相关推荐</span></div><div class="relatedPosts_list"><div class="relatedPosts_item"><a href="/2020/02/12/MyBatis 02：MyBatis的CRUD操作、别名配置、属性配置、查询结果映射、Mapper组件、参数处理、注解开发/" title="MyBatis 02：CRUD操作、别名配置、属性配置、查询结果映射、Mapper组件、参数处理、注解开发"><img class="relatedPosts_cover" src="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2020-02-12</div><div class="relatedPosts_title">MyBatis 02：CRUD操作、别名配置、属性配置、查询结果映射、Mapper组件、参数处理、注解开发</div></div></a></div><div class="relatedPosts_item"><a href="/2020/02/13/MyBatis 03：动态SQL、if、where、set、foreach、sql片段/" title="MyBatis 03：动态SQL、if、where、set、foreach、sql片段"><img class="relatedPosts_cover" src="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2020-02-13</div><div class="relatedPosts_title">MyBatis 03：动态SQL、if、where、set、foreach、sql片段</div></div></a></div><div class="relatedPosts_item"><a href="/2020/02/14/MyBatis 04：对象关系映射、延迟加载、关联对象的配置选择/" title="MyBatis 04：对象关系映射、延迟加载、关联对象的配置选择"><img class="relatedPosts_cover" src="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2020-02-14</div><div class="relatedPosts_title">MyBatis 04：对象关系映射、延迟加载、关联对象的配置选择</div></div></a></div><div class="relatedPosts_item"><a href="/2020/02/15/MyBatis 05：分页的实现/" title="MyBatis 05：MyBatis：分页的实现"><img class="relatedPosts_cover" src="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2020-02-15</div><div class="relatedPosts_title">MyBatis 05：MyBatis：分页的实现</div></div></a></div><div class="relatedPosts_item"><a href="/2020/02/19/MyBatis 06：缓存/" title="MyBatis 06：缓存"><img class="relatedPosts_cover" src="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2020-02-19</div><div class="relatedPosts_title">MyBatis 06：缓存</div></div></a></div><div class="relatedPosts_item"><a href="/2020/02/17/MyBatis 07：MyBatis Generator插件使用(配置详解)/" title="MyBatis 07：MyBatis Generator插件使用(配置详解)"><img class="relatedPosts_cover" src="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2020-02-17</div><div class="relatedPosts_title">MyBatis 07：MyBatis Generator插件使用(配置详解)</div></div></a></div></div><div class="clear_both"></div></div><hr><div id="post-comment"><div class="comment_headling"><i class="fa fa-comments fa-fw" aria-hidden="true"></i><span> 评论</span></div><div id="lv-container" data-id="city" data-uid="MTAyMC80OTk1Ni8yNjQ0Nw=="><script>(function(d, s) {
    var j, e = d.getElementsByTagName(s)[0];
    if (typeof LivereTower === 'function') { return; }
    j = d.createElement(s);
    j.src = 'https://cdn-city.livere.com/js/embed.dist.js';
    j.async = true;
    e.parentNode.insertBefore(j, e);
})(document, 'script');</script></div></div></article></main><footer id="footer" data-type="color"><div id="footer-wrap"><div class="copyright">&copy;2020 By 陈涛</div><div class="framework-info"><span>驱动 </span><a href="https://hexo.io" target="_blank" rel="noopener"><span>Hexo</span></a><span class="footer-separator">|</span><span>主题 </span><a href="https://github.com/jerryc127/hexo-theme-butterfly" target="_blank" rel="noopener"><span>Butterfly</span></a></div></div></footer></div><section class="rightside" id="rightside"><div id="rightside-config-hide"><i class="fa fa-book" id="readmode" title="阅读模式"></i><i class="fa fa-plus" id="font_plus" title="放大字体"></i><i class="fa fa-minus" id="font_minus" title="缩小字体"></i><a class="translate_chn_to_cht" id="translateLink" href="javascript:translatePage();" title="简繁转换" target="_self">簡</a><i class="darkmode far fa-moon" id="darkmode" title="夜间模式"></i></div><div id="rightside-config-show"><div id="rightside_config" title="设置"><i class="fa fa-cog" aria-hidden="true"></i></div><a id="to_comment" href="#post-comment" title="直达评论"><i class="scroll_to_comment fa fa-comments">  </i></a><i class="fa fa-list-ul close" id="mobile-toc-button" title="目录" aria-hidden="true"></i><i class="fa fa-arrow-up" id="go-up" title="回到顶部" aria-hidden="true"></i></div></section><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script defer id="ribbon" src="/js/third-party/canvas-ribbon.js" size="150" alpha="0.6" zIndex="-1" mobile="true" data-click="true"></script><script id="ribbon_piao" mobile="true" src="/js/third-party/piao.js"></script><script id="canvas_nest" color="0,0,255" opacity="0.7" zIndex="-1" count="99" mobile="true" src="/js/third-party/canvas-nest.js"></script><script src="/js/third-party/activate-power-mode.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = true;
document.body.addEventListener('input', POWERMODE);
</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page@latest/instantpage.min.js" type="module"></script><script src="/js/third-party/click_heart.js"></script></body></html>