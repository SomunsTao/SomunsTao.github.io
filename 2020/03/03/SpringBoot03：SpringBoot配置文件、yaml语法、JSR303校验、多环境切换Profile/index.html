<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>SpringBoot03：SpringBoot配置文件、yaml语法、JSR303校验、多环境切换Profile | Somuns ` Tao</title><meta name="description" content="you can &quot;just run&quot;"><meta name="keywords" content="spring"><meta name="author" content="陈涛"><meta name="copyright" content="陈涛"><meta name="format-detection" content="telephone=no"><link rel="shortcut icon" href="/img/favicon.png"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="dns-prefetch" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="https://fonts.googleapis.com" crossorigin="crossorigin"/><link rel="dns-prefetch" href="https://fonts.googleapis.com"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="dns-prefetch" href="//busuanzi.ibruce.info"/><meta name="twitter:card" content="summary"><meta name="twitter:title" content="SpringBoot03：SpringBoot配置文件、yaml语法、JSR303校验、多环境切换Profile"><meta name="twitter:description" content="you can &quot;just run&quot;"><meta name="twitter:image" content="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg"><meta property="og:type" content="article"><meta property="og:title" content="SpringBoot03：SpringBoot配置文件、yaml语法、JSR303校验、多环境切换Profile"><meta property="og:url" content="https://somunstao.github.io/2020/03/03/SpringBoot03%EF%BC%9ASpringBoot%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E3%80%81yaml%E8%AF%AD%E6%B3%95%E3%80%81JSR303%E6%A0%A1%E9%AA%8C%E3%80%81%E5%A4%9A%E7%8E%AF%E5%A2%83%E5%88%87%E6%8D%A2Profile/"><meta property="og:site_name" content="Somuns ` Tao"><meta property="og:description" content="you can &quot;just run&quot;"><meta property="og:image" content="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg"><meta property="article:published_time" content="2020-03-03T00:08:08.000Z"><meta property="article:modified_time" content="2020-08-02T09:13:03.762Z"><script src="https://cdn.jsdelivr.net/npm/js-cookie/dist/js.cookie.min.js"></script><script>var autoChangeMode = '1'
var t = Cookies.get("theme")
if (autoChangeMode == '1'){
  var isDarkMode = window.matchMedia("(prefers-color-scheme: dark)").matches
  var isLightMode = window.matchMedia("(prefers-color-scheme: light)").matches
  var isNotSpecified = window.matchMedia("(prefers-color-scheme: no-preference)").matches
  var hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

  if (t === undefined){
    if (isLightMode) activateLightMode()
    else if (isDarkMode) activateDarkMode()
    else if (isNotSpecified || hasNoSupport){
      console.log('You specified no preference for a color scheme or your browser does not support it. I Schedule dark mode during night time.')
      var now = new Date()
      var hour = now.getHours()
      var isNight = hour < 6 || hour >= 18
      isNight ? activateDarkMode() : activateLightMode()
  }
  } else if (t == 'light') activateLightMode()
  else activateDarkMode()

} else if (autoChangeMode == '2'){
  now = new Date();
  hour = now.getHours();
  isNight = hour < 6 || hour >= 18
  if(t === undefined) isNight? activateDarkMode() : activateLightMode()
  else if (t === 'light') activateLightMode()
  else activateDarkMode() 
} else {
  if ( t == 'dark' ) activateDarkMode()
  else if ( t == 'light') activateLightMode()
}

function activateDarkMode(){
  document.documentElement.setAttribute('data-theme', 'dark')
  if (document.querySelector('meta[name="theme-color"]') !== null){
    document.querySelector('meta[name="theme-color"]').setAttribute('content','#000')
  }
}
function activateLightMode(){
  document.documentElement.setAttribute('data-theme', 'light')
  if (document.querySelector('meta[name="theme-color"]') !== null){
  document.querySelector('meta[name="theme-color"]').setAttribute('content','#fff')
  }
}</script><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css"><link rel="canonical" href="https://somunstao.github.io/2020/03/03/SpringBoot03%EF%BC%9ASpringBoot%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E3%80%81yaml%E8%AF%AD%E6%B3%95%E3%80%81JSR303%E6%A0%A1%E9%AA%8C%E3%80%81%E5%A4%9A%E7%8E%AF%E5%A2%83%E5%88%87%E6%8D%A2Profile/"><link rel="prev" title="SpringMVC 4——处理器方法参数的处理" href="https://somunstao.github.io/2020/03/04/SpringMVC%204%E2%80%94%E2%80%94%E5%A4%84%E7%90%86%E5%99%A8%E6%96%B9%E6%B3%95%E5%8F%82%E6%95%B0%E7%9A%84%E5%A4%84%E7%90%86/"><link rel="next" title="SpringMVC 3——静态资源访问问题、处理器方法响应类型、请求转发、URL重定向" href="https://somunstao.github.io/2020/03/03/SpringMVC%203%E2%80%94%E2%80%94%E9%9D%99%E6%80%81%E8%B5%84%E6%BA%90%E8%AE%BF%E9%97%AE%E9%97%AE%E9%A2%98%E3%80%81%E5%A4%84%E7%90%86%E5%99%A8%E6%96%B9%E6%B3%95%E5%93%8D%E5%BA%94%E7%B1%BB%E5%9E%8B%E3%80%81%E8%AF%B7%E6%B1%82%E8%BD%AC%E5%8F%91%E3%80%81URL%E9%87%8D%E5%AE%9A%E5%90%91/"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Titillium+Web"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: {"defaultEncoding":2,"translateDelay":0,"cookieDomain":"https://xxx/","msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  bookmark: {
    message_prev: '按',
    message_next: '键将本页加入书签'
  },
  runtime_unit: '天',
  runtime: true,
  copyright: undefined,
  ClickShowText: undefined,
  medium_zoom: false,
  fancybox: true,
  Snackbar: undefined,
  baiduPush: false,
  highlightCopy: true,
  highlightLang: true,
  highlightShrink: 'false',
  isFontAwesomeV5: true,
  isPhotoFigcaption: false,
  islazyload: false,
  isanchor: false
  
}</script><script>var GLOBAL_CONFIG_SITE = { 
  isPost: true,
  isHome: false,
  isSidebar: true  
  }</script><noscript><style>
#page-header {
  opacity: 1
}
.justified-gallery img{
  opacity: 1
}
</style></noscript><meta name="generator" content="Hexo 4.2.0"><link rel="alternate" href="/atom.xml" title="Somuns ` Tao" type="application/atom+xml">
</head><body><div id="mobile-sidebar"><div id="menu_mask"></div><div id="mobile-sidebar-menus"><div class="mobile_author_icon"><img class="avatar-img" src="/img/avatar.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="mobile_post_data"><div class="mobile_data_item is-center"><div class="mobile_data_link"><a href="/archives/"><div class="headline">文章</div><div class="length_num">149</div></a></div></div><div class="mobile_data_item is-center">      <div class="mobile_data_link"><a href="/tags/"><div class="headline">标签</div><div class="length_num">11</div></a></div></div><div class="mobile_data_item is-center">     <div class="mobile_data_link"><a href="/categories/"><div class="headline">分类</div><div class="length_num">11</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> 時間軸</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> 留言板</span></a></div></div></div></div><i class="fa fa-arrow-right on" id="toggle-sidebar" aria-hidden="true">     </i><div id="sidebar"><div class="sidebar-toc"><div class="sidebar-toc__title">目录</div><div class="sidebar-toc__progress"><span class="progress-notice">你已经读了</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar">     </div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#SpringBoot-03——SpringBoot配置文件、yaml语法、JSR303校验、多环境切换Profile"><span class="toc-number">1.</span> <span class="toc-text">SpringBoot 03——SpringBoot配置文件、yaml语法、JSR303校验、多环境切换Profile</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#目录"><span class="toc-number">1.1.</span> <span class="toc-text">目录</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#一、SpringBoot配置文件"><span class="toc-number">2.</span> <span class="toc-text">一、SpringBoot配置文件</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#二、yaml概述"><span class="toc-number">3.</span> <span class="toc-text">二、yaml概述</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#yaml语法"><span class="toc-number">3.1.</span> <span class="toc-text">yaml语法</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1、基本语法"><span class="toc-number">3.1.1.</span> <span class="toc-text">1、基本语法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2、值的写法"><span class="toc-number">3.1.2.</span> <span class="toc-text">2、值的写法</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#字面量：普通的值（数字，字符串，布尔）"><span class="toc-number">3.1.2.1.</span> <span class="toc-text">字面量：普通的值（数字，字符串，布尔）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#对象、Map（属性和值）（键值对）："><span class="toc-number">3.1.2.2.</span> <span class="toc-text">对象、Map（属性和值）（键值对）：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#数组（List、Set）："><span class="toc-number">3.1.2.3.</span> <span class="toc-text">数组（List、Set）：</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#三、配置文件值注入"><span class="toc-number">4.</span> <span class="toc-text">三、配置文件值注入</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#yaml注入配置文件"><span class="toc-number">4.1.</span> <span class="toc-text">yaml注入配置文件</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#1、在springboot项目中的resources目录下新建一个文件-application-yml"><span class="toc-number">4.1.0.0.0.1.</span> <span class="toc-text">1、在springboot项目中的resources目录下新建一个文件 application.yml</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#2、编写一个实体类-Dog；"><span class="toc-number">4.1.0.0.0.2.</span> <span class="toc-text">2、编写一个实体类 Dog；</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#3、思考，我们原来是如何给bean注入属性值的！-Value，给狗狗类测试一下："><span class="toc-number">4.1.0.0.0.3.</span> <span class="toc-text">3、思考，我们原来是如何给bean注入属性值的！@Value，给狗狗类测试一下：</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#4、在SpringBoot的测试类下注入狗狗输出一下；"><span class="toc-number">4.1.0.0.0.4.</span> <span class="toc-text">4、在SpringBoot的测试类下注入狗狗输出一下；</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#结果成功输出，-Value注入成功，这是我们原来的办法对吧。"><span class="toc-number">4.1.0.0.0.5.</span> <span class="toc-text">结果成功输出，@Value注入成功，这是我们原来的办法对吧。</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#5、我们在编写一个复杂一点的实体类：Person-类"><span class="toc-number">4.1.0.0.0.6.</span> <span class="toc-text">5、我们在编写一个复杂一点的实体类：Person 类</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#6、我们来使用yaml配置的方式进行注入，大家写的时候注意区别和优势，我们编写一个yaml配置！"><span class="toc-number">4.1.0.0.0.7.</span> <span class="toc-text">6、我们来使用yaml配置的方式进行注入，大家写的时候注意区别和优势，我们编写一个yaml配置！</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#7、我们刚才已经把person这个对象的所有值都写好了，我们现在来注入到我们的类中！"><span class="toc-number">4.1.0.0.0.8.</span> <span class="toc-text">7、我们刚才已经把person这个对象的所有值都写好了，我们现在来注入到我们的类中！</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#8、IDEA-提示，springboot配置注解处理器没有找到，让我们看文档，我们可以查看文档，找到一个依赖！"><span class="toc-number">4.1.0.0.0.9.</span> <span class="toc-text">8、IDEA 提示，springboot配置注解处理器没有找到，让我们看文档，我们可以查看文档，找到一个依赖！</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#9、确认以上配置都OK之后，我们去测试类中测试一下："><span class="toc-number">4.1.0.0.0.10.</span> <span class="toc-text">9、确认以上配置都OK之后，我们去测试类中测试一下：</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#10、除了使用yaml配置-也可以使用application-properties全局配置文件"><span class="toc-number">4.1.0.0.0.11.</span> <span class="toc-text">10、除了使用yaml配置,也可以使用application.properties全局配置文件:</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#11、除了全局的配置文件外-如果要加载指定的配置文件"><span class="toc-number">4.1.0.0.0.12.</span> <span class="toc-text">11、除了全局的配置文件外,如果要加载指定的配置文件</span></a></li></ol></li></ol></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#四-、-Value获取值和-ConfigurationProperties获取值比较"><span class="toc-number">5.</span> <span class="toc-text">四 、@Value获取值和@ConfigurationProperties获取值比较</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1、配置文件注入值数据校验"><span class="toc-number">5.0.0.1.</span> <span class="toc-text">1、配置文件注入值数据校验</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2、-PropertySource-amp-ImportResource-amp-Bean"><span class="toc-number">5.0.0.2.</span> <span class="toc-text">2、@PropertySource&amp;@ImportResource&amp;@Bean</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3、配置文件占位符"><span class="toc-number">5.0.0.3.</span> <span class="toc-text">3、配置文件占位符</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#五、JSR303校验"><span class="toc-number">6.</span> <span class="toc-text">五、JSR303校验</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#六、多环境切换-Profile"><span class="toc-number">7.</span> <span class="toc-text">六、多环境切换 Profile</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1、多配置文件"><span class="toc-number">7.0.0.1.</span> <span class="toc-text">1、多配置文件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2、yaml的多文档块"><span class="toc-number">7.0.0.2.</span> <span class="toc-text">2、yaml的多文档块</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3、配置文件的加载位置"><span class="toc-number">7.0.0.3.</span> <span class="toc-text">3、配置文件的加载位置</span></a></li></ol></li></ol></li></ol></li></ol></div></div></div><div id="body-wrap"><div class="post-bg" id="nav" style="background-image: url(https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg)"><div id="page-header"><span class="pull_left" id="blog_name"><a class="blog_title" id="site-name" href="/">Somuns ` Tao</a></span><span class="pull_right menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> 時間軸</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> 留言板</span></a></div></div><span class="toggle-menu close"><a class="site-page"><i class="fa fa-bars fa-fw" aria-hidden="true"></i></a></span></span></div><div id="post-info"><div id="post-title"><div class="posttitle">SpringBoot03：SpringBoot配置文件、yaml语法、JSR303校验、多环境切换Profile</div></div><div id="post-meta"><div class="meta-firstline"><time class="post-meta__date"><span class="post-meta__date-created" title="发表于 2020-03-03 08:08:08"><i class="fa fa-calendar" aria-hidden="true"></i> 发表于 2020-03-03</span><span class="post-meta__separator">|</span><span class="post-meta__date-updated" title="更新于 2020-08-02 17:13:03"><i class="fa fa-history" aria-hidden="true"></i> 更新于 2020-08-02</span></time><span class="post-meta__categories"><span class="post-meta__separator">|</span><i class="fa fa-inbox post-meta__icon" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/SpringBoot/">SpringBoot</a></span></div><div class="meta-secondline"> </div><div class="meta-thirdline"><span class="post-meta-pv-cv"><i class="fa fa-eye post-meta__icon" aria-hidden="true"> </i><span>阅读量:</span><span id="busuanzi_value_page_pv"></span></span><span class="post-meta-commentcount"></span></div></div></div></div><main class="layout_post" id="content-inner"><article id="post"><div class="post-content" id="article-container"><h1 id="SpringBoot-03——SpringBoot配置文件、yaml语法、JSR303校验、多环境切换Profile"><a href="#SpringBoot-03——SpringBoot配置文件、yaml语法、JSR303校验、多环境切换Profile" class="headerlink" title="SpringBoot 03——SpringBoot配置文件、yaml语法、JSR303校验、多环境切换Profile"></a>SpringBoot 03——SpringBoot配置文件、yaml语法、JSR303校验、多环境切换Profile</h1><h2 id="目录"><a href="#目录" class="headerlink" title="目录"></a>目录</h2><ul>
<li><a href="https://blog.csdn.net/m0_37989980/article/details/105106583#j1" target="_blank" rel="noopener">一、SpringBoot配置文件</a></li>
<li>二、yaml概述<ul>
<li><a href="https://blog.csdn.net/m0_37989980/article/details/105106583#j3" target="_blank" rel="noopener">1、基本语法</a></li>
<li><a href="https://blog.csdn.net/m0_37989980/article/details/105106583#j4" target="_blank" rel="noopener">2、值的写法</a></li>
</ul>
</li>
<li>三、配置文件值注入<ul>
<li><a href="https://blog.csdn.net/m0_37989980/article/details/105106583#j6" target="_blank" rel="noopener">1、yaml注入配置文件</a></li>
</ul>
</li>
<li>四、@Value获取值和@ConfigurationProperties获取值比较<ul>
<li><a href="https://blog.csdn.net/m0_37989980/article/details/105106583#j8" target="_blank" rel="noopener">1、配置文件注入值数据校验</a></li>
<li><a href="https://blog.csdn.net/m0_37989980/article/details/105106583#j9" target="_blank" rel="noopener">2、@PropertySource&amp;@ImportResource&amp;@Bean注解</a></li>
<li><a href="https://blog.csdn.net/m0_37989980/article/details/105106583#j10" target="_blank" rel="noopener">3、配置文件占位符</a></li>
</ul>
</li>
<li><a href="https://blog.csdn.net/m0_37989980/article/details/105106583#j11" target="_blank" rel="noopener">五、JSR303校验</a></li>
<li>六、多环境切换 Profile<ul>
<li><a href="https://blog.csdn.net/m0_37989980/article/details/105106583#j13" target="_blank" rel="noopener">1、多配置文件</a></li>
<li><a href="https://blog.csdn.net/m0_37989980/article/details/105106583#j14" target="_blank" rel="noopener">2、yaml的多文档块</a></li>
<li><a href="https://blog.csdn.net/m0_37989980/article/details/105106583#j15" target="_blank" rel="noopener">3、配置文件的加载位置</a><br><img src="https://img-blog.csdnimg.cn/20200325204547571.png" alt="在这里插入图片描述"></li>
</ul>
</li>
</ul>
<hr>
<h1 id="一、SpringBoot配置文件"><a href="#一、SpringBoot配置文件" class="headerlink" title="一、SpringBoot配置文件"></a>一、SpringBoot配置文件</h1><p><a href="https://blog.csdn.net/m0_37989980/article/details/105106583#j0" target="_blank" rel="noopener">跳转到目录</a><br>SpringBoot使用一个<code>全局的配置文件</code> ， 配置文件名称是固定的;</p>
<ul>
<li>application.properties<ul>
<li>语法结构 ：key=value</li>
</ul>
</li>
<li>application.yml<ul>
<li>语法结构 ：key：空格 value</li>
</ul>
</li>
</ul>
<p><strong>配置文件的作用</strong> ：修改SpringBoot自动配置的默认值，因为SpringBoot在底层都给我们自动配置好了；</p>
<p>比如我们可以在配置文件中修改Tomcat 默认启动的端口号！测试一下！</p>
<blockquote>
<p>server.port=8081</p>
</blockquote>
<h1 id="二、yaml概述"><a href="#二、yaml概述" class="headerlink" title="二、yaml概述"></a>二、yaml概述</h1><p><a href="https://blog.csdn.net/m0_37989980/article/details/105106583#j0" target="_blank" rel="noopener">跳转到目录</a><br>YAML是 “YAML Ain’t a Markup Language” （YAML不是一种标记语言）的递归缩写。在开发的这种语言时，YAML 的意思其实是：“Yet Another Markup Language”（仍是一种标记语言）</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">这种语言以数据作为中心，而不是以标记语言为重点！</span><br></pre></td></tr></table></figure>

<ul>
<li>以前的配置文件，大多数都是使用xml来配置；比如一个简单的端口配置，我们来对比下yaml和xml</li>
</ul>
<p>yaml配置：</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">server:</span></span><br><span class="line">  <span class="attr">port:</span> <span class="number">8081</span></span><br><span class="line"><span class="number">12</span></span><br></pre></td></tr></table></figure>

<p>传统xml配置：</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">server</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">port</span>&gt;</span>8081<span class="tag">&lt;/<span class="name">port</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">server</span>&gt;</span></span><br><span class="line">123</span><br></pre></td></tr></table></figure>

<h2 id="yaml语法"><a href="#yaml语法" class="headerlink" title="yaml语法"></a>yaml语法</h2><p><a href="https://blog.csdn.net/m0_37989980/article/details/105106583#j0" target="_blank" rel="noopener">跳转到目录</a><br>说明：语法要求严格！</p>
<p>1、空格不能省略</p>
<p>2、以缩进来控制层级关系，只要是左边对齐的一列数据都是同一个层级的。</p>
<p>3、属性和值的大小写都是十分敏感的。</p>
<h3 id="1、基本语法"><a href="#1、基本语法" class="headerlink" title="1、基本语法"></a>1、基本语法</h3><p><a href="https://blog.csdn.net/m0_37989980/article/details/105106583#j0" target="_blank" rel="noopener">跳转到目录</a><br>k:(空格)v：表示一对<code>键值对</code>（空格必须有）；</p>
<p>以<strong>空格</strong>的缩进来控制层级关系；只要是左对齐的一列数据，都是同一个层级的</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">server:</span></span><br><span class="line">    <span class="attr">port:</span> <span class="number">8081</span></span><br><span class="line">    <span class="attr">path:</span> <span class="string">/hello</span></span><br><span class="line"><span class="number">123</span></span><br></pre></td></tr></table></figure>

<p>属性和值也是大小写敏感；</p>
<h3 id="2、值的写法"><a href="#2、值的写法" class="headerlink" title="2、值的写法"></a>2、值的写法</h3><p><a href="https://blog.csdn.net/m0_37989980/article/details/105106583#j0" target="_blank" rel="noopener">跳转到目录</a></p>
<h4 id="字面量：普通的值（数字，字符串，布尔）"><a href="#字面量：普通的值（数字，字符串，布尔）" class="headerlink" title="字面量：普通的值（数字，字符串，布尔）"></a>字面量：普通的值（数字，字符串，布尔）</h4><p><a href="https://blog.csdn.net/m0_37989980/article/details/105106583#j0" target="_blank" rel="noopener">跳转到目录</a><br>​ k: v：字面直接来写；</p>
<p><strong>注意</strong>: 字符串默认不用加上单引号或者双引号；</p>
<ul>
<li>“”：双引号；不会转义字符串里面的特殊字符；特殊字符会作为本身想表示的意思</li>
</ul>
<blockquote>
<p>name: “zhangsan \n lisi”：输出；zhangsan 换行 lisi</p>
</blockquote>
<ul>
<li>’ ‘：单引号；会转义特殊字符，特殊字符最终只是一个普通的字符串数据</li>
</ul>
<blockquote>
<p>name: ‘zhangsan \n lisi’：输出；zhangsan \n lisi</p>
</blockquote>
<h4 id="对象、Map（属性和值）（键值对）："><a href="#对象、Map（属性和值）（键值对）：" class="headerlink" title="对象、Map（属性和值）（键值对）："></a>对象、Map（属性和值）（键值对）：</h4><p><a href="https://blog.csdn.net/m0_37989980/article/details/105106583#j0" target="_blank" rel="noopener">跳转到目录</a></p>
<p> k: v：在下一行来写对象的属性和值的关系；注意缩进</p>
<p> 对象还是k: v的方式</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">friends:</span></span><br><span class="line">	<span class="attr">lastName:</span> <span class="string">zhangsan</span></span><br><span class="line">	<span class="attr">age:</span> <span class="number">20</span></span><br><span class="line"><span class="number">123</span></span><br></pre></td></tr></table></figure>

<p>行内写法：</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">friends:</span> <span class="string">&#123;lastName:</span> <span class="string">zhangsan,age:</span> <span class="number">18</span><span class="string">&#125;</span></span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure>

<h4 id="数组（List、Set）："><a href="#数组（List、Set）：" class="headerlink" title="数组（List、Set）："></a>数组（List、Set）：</h4><p><a href="https://blog.csdn.net/m0_37989980/article/details/105106583#j0" target="_blank" rel="noopener">跳转到目录</a></p>
<p>用- 值表示数组中的一个元素</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">pets:</span></span><br><span class="line"> <span class="bullet">-</span> <span class="string">cat</span></span><br><span class="line"> <span class="bullet">-</span> <span class="string">dog</span></span><br><span class="line"> <span class="bullet">-</span> <span class="string">pig</span></span><br><span class="line"><span class="number">1234</span></span><br></pre></td></tr></table></figure>

<p>行内写法</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">pets:</span> <span class="string">[cat,dog,pig]</span></span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure>

<h1 id="三、配置文件值注入"><a href="#三、配置文件值注入" class="headerlink" title="三、配置文件值注入"></a>三、配置文件值注入</h1><p><a href="https://blog.csdn.net/m0_37989980/article/details/105106583#j0" target="_blank" rel="noopener">跳转到目录</a><br><code>yaml文件更强大的地方在于，他可以给我们的实体类直接注入匹配值！</code></p>
<h2 id="yaml注入配置文件"><a href="#yaml注入配置文件" class="headerlink" title="yaml注入配置文件"></a>yaml注入配置文件</h2><p><a href="https://blog.csdn.net/m0_37989980/article/details/105106583#j0" target="_blank" rel="noopener">跳转到目录</a></p>
<h6 id="1、在springboot项目中的resources目录下新建一个文件-application-yml"><a href="#1、在springboot项目中的resources目录下新建一个文件-application-yml" class="headerlink" title="1、在springboot项目中的resources目录下新建一个文件 application.yml"></a>1、在springboot项目中的resources目录下新建一个文件 application.yml</h6><h6 id="2、编写一个实体类-Dog；"><a href="#2、编写一个实体类-Dog；" class="headerlink" title="2、编写一个实体类 Dog；"></a>2、编写一个实体类 Dog；</h6><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.sunny.springboot.pojo;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Component</span>  <span class="comment">//注册bean到容器中</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Dog</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> Integer age;</span><br><span class="line">    <span class="keyword">private</span> Boolean eat;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//有参无参构造、get、set方法、toString()方法  </span></span><br><span class="line">&#125;</span><br><span class="line"><span class="number">12345678910</span></span><br></pre></td></tr></table></figure>

<h6 id="3、思考，我们原来是如何给bean注入属性值的！-Value，给狗狗类测试一下："><a href="#3、思考，我们原来是如何给bean注入属性值的！-Value，给狗狗类测试一下：" class="headerlink" title="3、思考，我们原来是如何给bean注入属性值的！@Value，给狗狗类测试一下："></a>3、思考，我们原来是如何给bean注入属性值的！@Value，给狗狗类测试一下：</h6><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"> <span class="comment">/**</span></span><br><span class="line"><span class="comment">   *</span></span><br><span class="line"><span class="comment">   * <span class="doctag">@Value</span>()注解的作用同下</span></span><br><span class="line"><span class="comment">   *</span></span><br><span class="line"><span class="comment">   * &lt;bean class="Dog"&gt;</span></span><br><span class="line"><span class="comment">   *      &lt;property name="name" value="字面量" / $&#123;字面量&#125;从环境变量,配置文件中获取值 / #&#123;SpEL&#125; &gt;&lt;/property&gt;</span></span><br><span class="line"><span class="comment">   * &lt;/bean&gt;</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">    <span class="comment">//@Value("$&#123;Dog.last-name&#125;")</span></span><br><span class="line">    <span class="meta">@Value</span>(<span class="string">"阿黄"</span>)</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="meta">@Value</span>(<span class="string">"#&#123;1*18&#125;"</span>)</span><br><span class="line">    <span class="keyword">private</span> Integer age;</span><br><span class="line">    <span class="meta">@Value</span>(<span class="string">"false"</span>)</span><br><span class="line">    <span class="keyword">private</span> Boolean eat;</span><br><span class="line"><span class="number">123456789101112131415</span></span><br></pre></td></tr></table></figure>

<h6 id="4、在SpringBoot的测试类下注入狗狗输出一下；"><a href="#4、在SpringBoot的测试类下注入狗狗输出一下；" class="headerlink" title="4、在SpringBoot的测试类下注入狗狗输出一下；"></a>4、在SpringBoot的测试类下注入狗狗输出一下；</h6><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@SpringBootTest</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">DemoApplicationTests</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span> <span class="comment">//将狗狗自动注入进来</span></span><br><span class="line">    Dog dog;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">contextLoads</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(dog); <span class="comment">//打印看下狗狗对象</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="number">1234567891011</span></span><br></pre></td></tr></table></figure>

<h6 id="结果成功输出，-Value注入成功，这是我们原来的办法对吧。"><a href="#结果成功输出，-Value注入成功，这是我们原来的办法对吧。" class="headerlink" title="结果成功输出，@Value注入成功，这是我们原来的办法对吧。"></a>结果成功输出，@Value注入成功，这是我们原来的办法对吧。</h6><p><img src="https://img-blog.csdnimg.cn/20200326000818903.png" alt="在这里插入图片描述"></p>
<h6 id="5、我们在编写一个复杂一点的实体类：Person-类"><a href="#5、我们在编写一个复杂一点的实体类：Person-类" class="headerlink" title="5、我们在编写一个复杂一点的实体类：Person 类"></a>5、我们在编写一个复杂一点的实体类：Person 类</h6><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Component</span> <span class="comment">//注册bean到容器中</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> Integer age;</span><br><span class="line">    <span class="keyword">private</span> Boolean happy;</span><br><span class="line">    <span class="keyword">private</span> Date birth;</span><br><span class="line">    <span class="keyword">private</span> Map&lt;String,Object&gt; maps;</span><br><span class="line">    <span class="keyword">private</span> List&lt;Object&gt; lists;</span><br><span class="line">    <span class="keyword">private</span> Dog dog;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//有参无参构造、get、set方法、toString()方法  </span></span><br><span class="line">&#125;</span><br><span class="line"><span class="number">123456789101112</span></span><br></pre></td></tr></table></figure>

<h6 id="6、我们来使用yaml配置的方式进行注入，大家写的时候注意区别和优势，我们编写一个yaml配置！"><a href="#6、我们来使用yaml配置的方式进行注入，大家写的时候注意区别和优势，我们编写一个yaml配置！" class="headerlink" title="6、我们来使用yaml配置的方式进行注入，大家写的时候注意区别和优势，我们编写一个yaml配置！"></a>6、我们来使用yaml配置的方式进行注入，大家写的时候注意区别和优势，我们编写一个yaml配置！</h6><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">person:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">qinjiang</span></span><br><span class="line">  <span class="attr">age:</span> <span class="number">3</span></span><br><span class="line">  <span class="attr">happy:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">birth:</span> <span class="number">2000</span><span class="string">/01/01</span></span><br><span class="line">  <span class="attr">maps:</span> <span class="string">&#123;k1:</span> <span class="string">v1,k2:</span> <span class="string">v2&#125;</span></span><br><span class="line">  <span class="attr">lists:</span></span><br><span class="line">   <span class="bullet">-</span> <span class="string">code</span></span><br><span class="line">   <span class="bullet">-</span> <span class="string">girl</span></span><br><span class="line">   <span class="bullet">-</span> <span class="string">music</span></span><br><span class="line">  <span class="attr">dog:</span></span><br><span class="line">    <span class="attr">name:</span> <span class="string">旺财</span></span><br><span class="line">    <span class="attr">age:</span> <span class="number">1</span></span><br><span class="line"><span class="number">12345678910111213</span></span><br></pre></td></tr></table></figure>

<h6 id="7、我们刚才已经把person这个对象的所有值都写好了，我们现在来注入到我们的类中！"><a href="#7、我们刚才已经把person这个对象的所有值都写好了，我们现在来注入到我们的类中！" class="headerlink" title="7、我们刚才已经把person这个对象的所有值都写好了，我们现在来注入到我们的类中！"></a>7、我们刚才已经把person这个对象的所有值都写好了，我们现在来<code>注入</code>到我们的类中！</h6><ul>
<li><code>@ConfigurationProperties(prefix = &quot;bean的id&quot;)</code><br>这个组件必须在容器中,才能使用该注解的功能;</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">@ConfigurationProperties作用：</span></span><br><span class="line"><span class="comment">将配置文件中配置的每一个属性的值，映射到这个组件中；</span></span><br><span class="line"><span class="comment">告诉SpringBoot将本类中的所有属性和配置文件中相关的配置进行绑定</span></span><br><span class="line"><span class="comment">参数 prefix = “person” : 将配置文件中的person下面的所有属性一一对应</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="meta">@Component</span> <span class="comment">//注册bean</span></span><br><span class="line"><span class="meta">@ConfigurationProperties</span>(prefix = <span class="string">"person"</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> Integer age;</span><br><span class="line">    <span class="keyword">private</span> Boolean happy;</span><br><span class="line">    <span class="keyword">private</span> Date birth;</span><br><span class="line">    <span class="keyword">private</span> Map&lt;String,Object&gt; maps;</span><br><span class="line">    <span class="keyword">private</span> List&lt;Object&gt; lists;</span><br><span class="line">    <span class="keyword">private</span> Dog dog;</span><br><span class="line">&#125;</span><br><span class="line"><span class="number">1234567891011121314151617</span></span><br></pre></td></tr></table></figure>

<h6 id="8、IDEA-提示，springboot配置注解处理器没有找到，让我们看文档，我们可以查看文档，找到一个依赖！"><a href="#8、IDEA-提示，springboot配置注解处理器没有找到，让我们看文档，我们可以查看文档，找到一个依赖！" class="headerlink" title="8、IDEA 提示，springboot配置注解处理器没有找到，让我们看文档，我们可以查看文档，找到一个依赖！"></a>8、IDEA 提示，springboot配置注解处理器没有找到，让我们看文档，我们可以查看文档，找到一个依赖！</h6><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 导入配置文件处理器，配置文件进行绑定就会有提示，需要重启 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-configuration-processor<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">optional</span>&gt;</span>true<span class="tag">&lt;/<span class="name">optional</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">123456</span><br></pre></td></tr></table></figure>

<h6 id="9、确认以上配置都OK之后，我们去测试类中测试一下："><a href="#9、确认以上配置都OK之后，我们去测试类中测试一下：" class="headerlink" title="9、确认以上配置都OK之后，我们去测试类中测试一下："></a>9、确认以上配置都OK之后，我们去测试类中测试一下：</h6><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@SpringBootTest</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">DemoApplicationTests</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    Person person; <span class="comment">//将person自动注入进来</span></span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">contextLoads</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(person); <span class="comment">//打印person信息</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="number">12345678910</span></span><br></pre></td></tr></table></figure>

<p><strong>yaml配置注入到实体类完全OK！</strong></p>
<h6 id="10、除了使用yaml配置-也可以使用application-properties全局配置文件"><a href="#10、除了使用yaml配置-也可以使用application-properties全局配置文件" class="headerlink" title="10、除了使用yaml配置,也可以使用application.properties全局配置文件:"></a>10、除了使用yaml配置,也可以使用<code>application.properties</code>全局配置文件:</h6><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">person.last-name&#x3D;zhangsan</span><br><span class="line">person.age&#x3D;18</span><br><span class="line">person.birth&#x3D;2020&#x2F;3&#x2F;25</span><br><span class="line">person.boss&#x3D;false</span><br><span class="line">person.maps.k1&#x3D;v1</span><br><span class="line">person.maps.k2&#x3D;14</span><br><span class="line">person.lists&#x3D;a,b,c</span><br><span class="line">person.dog.name&#x3D;dog</span><br><span class="line">person.dog.age&#x3D;4</span><br><span class="line">123456789</span><br></pre></td></tr></table></figure>

<p>同样使用<code>@ConfigurationProperties:</code> 告诉SpringBoot将本类中的所有属性和配置文件中的相关配置进行绑定; 这样也同样可以和yaml同样的效果!</p>
<p>【<strong>注意</strong>】properties配置文件在写中文的时候，会有乱码 ， 我们需要去IDEA中设置编码格式为UTF-8；</p>
<p>settings–&gt;FileEncodings 中配置；</p>
<h6 id="11、除了全局的配置文件外-如果要加载指定的配置文件"><a href="#11、除了全局的配置文件外-如果要加载指定的配置文件" class="headerlink" title="11、除了全局的配置文件外,如果要加载指定的配置文件"></a>11、除了全局的配置文件外,如果要加载指定的配置文件</h6><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">@PropertySource 注解</span><br></pre></td></tr></table></figure>

<p>在resources目录下新建一个person.properties文件</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">person.last-name&#x3D;zhangsan</span><br><span class="line">person.age&#x3D;18</span><br><span class="line">person.birth&#x3D;2020&#x2F;3&#x2F;25</span><br><span class="line">person.boss&#x3D;false</span><br><span class="line">person.maps.k1&#x3D;v1</span><br><span class="line">person.maps.k2&#x3D;14</span><br><span class="line">person.lists&#x3D;a,b,c</span><br><span class="line">person.dog.name&#x3D;dog</span><br><span class="line">person.dog.age&#x3D;4</span><br><span class="line">123456789</span><br></pre></td></tr></table></figure>

<p>此时需要使用<code>@PropertySource(value = &quot;classpath:person.properties&quot;)</code>这个注解; 并配合<code>@Value</code>注解来使用;</p>
<p><strong>举个栗子: 这是一个配置类(和spring.xml实现同样的功能)</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@ComponentScan</span>(<span class="string">"com.sunny"</span>)</span><br><span class="line"><span class="meta">@PropertySource</span>(<span class="string">"classpath:db.properties"</span>)</span><br><span class="line"><span class="meta">@EnableTransactionManagement</span> <span class="comment">// 事务处理的注解</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AppConfig</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Value</span>(<span class="string">"$&#123;jdbc.driverClassName&#125;"</span>)</span><br><span class="line">    <span class="keyword">private</span> String driverClassName;</span><br><span class="line">    <span class="meta">@Value</span>(<span class="string">"$&#123;jdbc.url&#125;"</span>)</span><br><span class="line">    <span class="keyword">private</span> String url;</span><br><span class="line">    <span class="meta">@Value</span>(<span class="string">"$&#123;jdbc.username&#125;"</span>)</span><br><span class="line">    <span class="keyword">private</span> String username;</span><br><span class="line">    <span class="meta">@Value</span>(<span class="string">"$&#123;jdbc.password&#125;"</span>)</span><br><span class="line">    <span class="keyword">private</span> String password;</span><br><span class="line">    <span class="meta">@Value</span>(<span class="string">"$&#123;jdbc.initialSize&#125;"</span>)</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> initialSize;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 连接池对象</span></span><br><span class="line">    <span class="meta">@Bean</span> <span class="comment">// bean的id就是dataSource,也可以起一个</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> DataSource <span class="title">dataSource</span><span class="params">()</span></span>&#123;</span><br><span class="line">        DruidDataSource ds = <span class="keyword">new</span> DruidDataSource();</span><br><span class="line">        ds.setDriverClassName(driverClassName);</span><br><span class="line">        ds.setUrl(url);</span><br><span class="line">        ds.setUsername(username);</span><br><span class="line">        ds.setPassword(password);</span><br><span class="line">        ds.setInitialSize(initialSize);</span><br><span class="line">        <span class="keyword">return</span> ds;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 事务管理器对象;这里传的ds对象,就是上面的连接池对象,它会自动找ds对象</span></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> DataSourceTransactionManager <span class="title">txManager</span><span class="params">(DataSource ds)</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> DataSourceTransactionManager(ds);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="number">1234567891011121314151617181920212223242526272829303132333435</span></span><br></pre></td></tr></table></figure>

<p>db.properties</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">#key&#x3D;value</span><br><span class="line">jdbc.driverClassName&#x3D;com.mysql.jdbc.Driver</span><br><span class="line">jdbc.url&#x3D;jdbc:mysql:&#x2F;&#x2F;localhost:3306&#x2F;springmvc</span><br><span class="line">jdbc.username&#x3D;root</span><br><span class="line">jdbc.password&#x3D;1111</span><br><span class="line">jdbc.initialSize&#x3D;2</span><br><span class="line">123456</span><br><span class="line">注意:</span><br></pre></td></tr></table></figure>

<ul>
<li>将配置文件的key 值 和 属性的值设置为不一样，则结果输出为null，注入失败</li>
<li>在配置一个person2，然后将 @ConfigurationProperties(prefix = “person2”) 指向我们的person2；</li>
</ul>
<h1 id="四-、-Value获取值和-ConfigurationProperties获取值比较"><a href="#四-、-Value获取值和-ConfigurationProperties获取值比较" class="headerlink" title="四 、@Value获取值和@ConfigurationProperties获取值比较"></a>四 、@Value获取值和@ConfigurationProperties获取值比较</h1><p><a href="https://blog.csdn.net/m0_37989980/article/details/105106583#j0" target="_blank" rel="noopener">跳转到目录</a></p>
<table>
<thead>
<tr>
<th></th>
<th>@ConfigurationProperties</th>
<th>@Value</th>
</tr>
</thead>
<tbody><tr>
<td>功能</td>
<td>批量注入配置文件中的属性</td>
<td>一个个指定</td>
</tr>
<tr>
<td>松散绑定（松散语法）</td>
<td>支持</td>
<td>不支持</td>
</tr>
<tr>
<td>SpEL</td>
<td>不支持</td>
<td>支持</td>
</tr>
<tr>
<td>JSR303数据校验</td>
<td>支持</td>
<td>不支持</td>
</tr>
<tr>
<td>复杂类型封装</td>
<td>支持</td>
<td>不支持</td>
</tr>
</tbody></table>
<p>1、@ConfigurationProperties只需要写一次即可 ， @Value则需要每个字段都添加</p>
<p>2、松散绑定：这个什么意思呢? 比如我的yml中写的last-name，这个和lastName是一样的， - 后面跟着的字母默认是大写的。这就是松散绑定。可以测试一下</p>
<p>3、JSR303数据校验 ， 这个就是我们可以在字段是增加一层过滤器验证 ， 可以保证数据的合法性</p>
<p>4、复杂类型封装，yml中可以封装对象 ， 使用value就不支持</p>
<p><strong><code>结论:</code></strong></p>
<ul>
<li>配置yml和配置properties都可以获取到值 ， 强烈推荐 yml；</li>
<li>如果我们在某个业务中，只需要获取配置文件中的某个值，可以使用一下 <code>@Value</code>；</li>
<li>如果说，我们专门编写了一个JavaBean来和配置文件进行一一映射，就直接<code>@configurationProperties</code>;</li>
</ul>
<h4 id="1、配置文件注入值数据校验"><a href="#1、配置文件注入值数据校验" class="headerlink" title="1、配置文件注入值数据校验"></a>1、配置文件注入值数据校验</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">@Validated 注解</span><br><span class="line">@Component</span><br><span class="line">@ConfigurationProperties(prefix &#x3D; &quot;person&quot;)</span><br><span class="line">@Validated</span><br><span class="line">public class Person &#123;</span><br><span class="line"></span><br><span class="line">    &#x2F;**</span><br><span class="line">     * &lt;bean class&#x3D;&quot;Person&quot;&gt;</span><br><span class="line">     *      &lt;property name&#x3D;&quot;lastName&quot; value&#x3D;&quot;字面量&#x2F;$&#123;key&#125;从环境变量、配置文件中获取值&#x2F;#&#123;SpEL&#125;&quot;&gt;&lt;&#x2F;property&gt;</span><br><span class="line">     * &lt;bean&#x2F;&gt;</span><br><span class="line">     *&#x2F;</span><br><span class="line"></span><br><span class="line">   &#x2F;&#x2F;lastName必须是邮箱格式</span><br><span class="line">    @Email</span><br><span class="line">    &#x2F;&#x2F;@Value(&quot;$&#123;person.last-name&#125;&quot;)</span><br><span class="line">    private String lastName;</span><br><span class="line">    &#x2F;&#x2F;@Value(&quot;#&#123;11*2&#125;&quot;)</span><br><span class="line">    private Integer age;</span><br><span class="line">    &#x2F;&#x2F;@Value(&quot;true&quot;)</span><br><span class="line">    private Boolean boss;</span><br><span class="line"></span><br><span class="line">    private Date birth;</span><br><span class="line">    private Map&lt;String,Object&gt; maps;</span><br><span class="line">    private List&lt;Object&gt; lists;</span><br><span class="line">    private Dog dog;</span><br><span class="line">123456789101112131415161718192021222324</span><br></pre></td></tr></table></figure>

<h4 id="2、-PropertySource-amp-ImportResource-amp-Bean"><a href="#2、-PropertySource-amp-ImportResource-amp-Bean" class="headerlink" title="2、@PropertySource&amp;@ImportResource&amp;@Bean"></a>2、@PropertySource&amp;@ImportResource&amp;@Bean</h4><p><a href="https://blog.csdn.net/m0_37989980/article/details/105106583#j0" target="_blank" rel="noopener">跳转到目录</a><br><code>@PropertySource</code>：加载指定的配置文件；</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 将配置文件中配置的每一个属性的值，映射到这个组件中</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@ConfigurationProperties</span>：告诉SpringBoot将本类中的所有属性和配置文件中相关的配置进行绑定；</span></span><br><span class="line"><span class="comment"> *      prefix = "person"：配置文件中哪个下面的所有属性进行一一映射</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * 只有这个组件是容器中的组件，才能容器提供的<span class="doctag">@ConfigurationProperties</span>功能；</span></span><br><span class="line"><span class="comment"> *  <span class="doctag">@ConfigurationProperties</span>(prefix = "person")默认从全局配置文件中获取值；</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@PropertySource</span>(value = &#123;<span class="string">"classpath:person.properties"</span>&#125;)</span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="meta">@ConfigurationProperties</span>(prefix = <span class="string">"person"</span>)</span><br><span class="line"><span class="comment">//@Validated</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * &lt;bean class="Person"&gt;</span></span><br><span class="line"><span class="comment">     *      &lt;property name="lastName" value="字面量/$&#123;key&#125;从环境变量、配置文件中获取值/#&#123;SpEL&#125;"&gt;&lt;/property&gt;</span></span><br><span class="line"><span class="comment">     * &lt;bean/&gt;</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line"></span><br><span class="line">   <span class="comment">//lastName必须是邮箱格式</span></span><br><span class="line">   <span class="comment">// @Email</span></span><br><span class="line">    <span class="comment">//@Value("$&#123;person.last-name&#125;")</span></span><br><span class="line">    <span class="keyword">private</span> String lastName;</span><br><span class="line">    <span class="comment">//@Value("#&#123;11*2&#125;")</span></span><br><span class="line">    <span class="keyword">private</span> Integer age;</span><br><span class="line">    <span class="comment">//@Value("true")</span></span><br><span class="line">    <span class="keyword">private</span> Boolean boss;</span><br><span class="line"></span><br><span class="line"><span class="number">123456789101112131415161718192021222324252627282930</span></span><br></pre></td></tr></table></figure>

<p><code>@ImportResource</code>：导入Spring的配置文件，<strong>让配置文件里面的内容生效</strong>；</p>
<p>Spring Boot里面没有Spring的配置文件，我们自己编写的配置文件，也不能自动识别；</p>
<p>想让Spring的配置文件生效，加载进来；<code>@ImportResource标注在一个配置类上</code></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//导入Spring的配置文件让其生效</span></span><br><span class="line"><span class="meta">@ImportResource</span>(locations = &#123;<span class="string">"classpath:beans.xml"</span>&#125;)</span><br><span class="line"><span class="meta">@SpringBootApplication</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Application</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        SpringApplication.run(Application<span class="class">.<span class="keyword">class</span>, <span class="title">args</span>)</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="number">123456789</span></span><br></pre></td></tr></table></figure>

<p>不来编写Spring的配置文件</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">"http://www.springframework.org/schema/beans"</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd"</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"helloService"</span> <span class="attr">class</span>=<span class="string">"com.atguigu.springboot.service.HelloService"</span>&gt;</span><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br><span class="line">12345678</span><br></pre></td></tr></table></figure>

<p>SpringBoot推荐给容器中添加组件的方式；推荐使用全注解的方式</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">1、配置类@Configuration------&gt;Spring配置文件</span><br><span class="line">2、使用@Bean给容器中添加组件</span><br><span class="line">&#x2F;**</span><br><span class="line"> * @Configuration：指明当前类是一个配置类；就是来替代之前的Spring配置文件</span><br><span class="line"> *</span><br><span class="line"> * 在配置文件中用&lt;bean&gt;&lt;bean&#x2F;&gt;标签添加组件</span><br><span class="line"> *</span><br><span class="line"> *&#x2F;</span><br><span class="line">@Configuration</span><br><span class="line">public class MyAppConfig &#123;</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F;将方法的返回值添加到容器中；容器中这个组件默认的id就是方法名</span><br><span class="line">    @Bean</span><br><span class="line">    public HelloService helloService02()&#123;</span><br><span class="line">        System.out.println(&quot;配置类@Bean给容器中添加组件了...&quot;);</span><br><span class="line">        return new HelloService();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">12345678910111213141516</span><br></pre></td></tr></table></figure>

<p><strong>SpringBoot 自动装配都是用的配置类!</strong></p>
<h4 id="3、配置文件占位符"><a href="#3、配置文件占位符" class="headerlink" title="3、配置文件占位符"></a>3、配置文件占位符</h4><p><a href="https://blog.csdn.net/m0_37989980/article/details/105106583#j0" target="_blank" rel="noopener">跳转到目录</a></p>
<ul>
<li>随机数</li>
<li>占位符获取之前配置的值，如果没有可以是用: <code>指定默认值</code></li>
</ul>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="string">$&#123;random.value&#125;、$&#123;random.int&#125;、$&#123;random.long&#125;</span></span><br><span class="line"><span class="string">$&#123;random.int(10)&#125;、$&#123;random.int[1024,65536]&#125;</span></span><br><span class="line"><span class="number">12</span></span><br><span class="line"><span class="attr">Person:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">gzy$&#123;random.uuid&#125;</span></span><br><span class="line">  <span class="attr">age:</span> <span class="string">$&#123;random.int&#125;</span></span><br><span class="line">  <span class="attr">happy:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">birth:</span> <span class="number">1998</span><span class="string">/2/11</span></span><br><span class="line">  <span class="attr">maps:</span> <span class="string">&#123;k1:</span> <span class="string">v1,</span> <span class="attr">k2:</span> <span class="string">v2&#125;</span></span><br><span class="line">  <span class="attr">lists:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">code</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">girl</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">music</span></span><br><span class="line">  <span class="attr">dog:</span></span><br><span class="line">  	<span class="comment"># 使用Person.hello这个配置的值,如果没有这个配置,则使用指定的默认值hello</span></span><br><span class="line">    <span class="attr">name:</span> <span class="string">$&#123;Person.hello:hello&#125;_旺财</span></span><br><span class="line">    <span class="attr">age:</span> <span class="number">1</span></span><br><span class="line"><span class="number">1234567891011121314</span></span><br></pre></td></tr></table></figure>

<h1 id="五、JSR303校验"><a href="#五、JSR303校验" class="headerlink" title="五、JSR303校验"></a>五、JSR303校验</h1><p><a href="https://blog.csdn.net/m0_37989980/article/details/105106583#j0" target="_blank" rel="noopener">跳转到目录</a></p>
<ul>
<li>Springboot中可以用<code>@validated</code>来校验数据，如果数据异常则会统一抛出异常，方便异常中心统一处理。</li>
<li>使用数据校验，可以保证数据的<code>正确性</code>;</li>
</ul>
<p><strong><code>常见参数:</code></strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@NotNull</span>(message=<span class="string">"名字不能为空"</span>)</span><br><span class="line"><span class="keyword">private</span> String userName;</span><br><span class="line"><span class="meta">@Max</span>(value=<span class="number">120</span>,message=<span class="string">"年龄最大不能查过120"</span>)</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">int</span> age;</span><br><span class="line"><span class="meta">@Email</span>(message=<span class="string">"邮箱格式错误"</span>)</span><br><span class="line"><span class="keyword">private</span> String email;</span><br><span class="line"></span><br><span class="line">空检查</span><br><span class="line"><span class="meta">@Null</span>       验证对象是否为<span class="keyword">null</span></span><br><span class="line"><span class="meta">@NotNull</span>    验证对象是否不为<span class="keyword">null</span>, 无法查检长度为<span class="number">0</span>的字符串</span><br><span class="line"><span class="meta">@NotBlank</span>   检查约束字符串是不是Null还有被Trim的长度是否大于<span class="number">0</span>,只对字符串,且会去掉前后空格.</span><br><span class="line"><span class="meta">@NotEmpty</span>   检查约束元素是否为NULL或者是EMPTY.</span><br><span class="line">    </span><br><span class="line">Booelan检查</span><br><span class="line"><span class="meta">@AssertTrue</span>     验证 Boolean 对象是否为 <span class="keyword">true</span>  </span><br><span class="line"><span class="meta">@AssertFalse</span>    验证 Boolean 对象是否为 <span class="keyword">false</span>  </span><br><span class="line">    </span><br><span class="line">长度检查</span><br><span class="line"><span class="meta">@Size</span>(min=, max=) 验证对象（Array,Collection,Map,String）长度是否在给定的范围之内  </span><br><span class="line"><span class="meta">@Length</span>(min=, max=) string is between min and max included.</span><br><span class="line"></span><br><span class="line">日期检查</span><br><span class="line"><span class="meta">@Past</span>       验证 Date 和 Calendar 对象是否在当前时间之前  </span><br><span class="line"><span class="meta">@Future</span>     验证 Date 和 Calendar 对象是否在当前时间之后  </span><br><span class="line"><span class="meta">@Pattern</span>    验证 String 对象是否符合正则表达式的规则</span><br><span class="line"></span><br><span class="line">.......等等</span><br><span class="line">除此以外，我们还可以自定义一些数据校验规则</span><br><span class="line"><span class="number">12345678910111213141516171819202122232425262728</span></span><br></pre></td></tr></table></figure>

<h1 id="六、多环境切换-Profile"><a href="#六、多环境切换-Profile" class="headerlink" title="六、多环境切换 Profile"></a>六、多环境切换 Profile</h1><p><a href="https://blog.csdn.net/m0_37989980/article/details/105106583#j0" target="_blank" rel="noopener">跳转到目录</a></p>
<ul>
<li>profile是Spring对<code>不同环境</code>提供不同配置功能的支持，可以通过<code>激活</code>不同的环境版本，实现<code>快速切换环境</code>；</li>
</ul>
<h4 id="1、多配置文件"><a href="#1、多配置文件" class="headerlink" title="1、多配置文件"></a>1、多配置文件</h4><p><a href="https://blog.csdn.net/m0_37989980/article/details/105106583#j0" target="_blank" rel="noopener">跳转到目录</a></p>
<ul>
<li>我们在主配置文件编写的时候，文件名可以是 application-{profile}.properties/yml用来指定多个环境版本；</li>
</ul>
<p><strong>例如：</strong></p>
<p>application-test.properties 代表测试环境配置<br>application-dev.properties 代表开发环境配置</p>
<ul>
<li>但是Springboot并不会直接启动这些配置文件，它默认使用<code>application.properties</code>主配置文件；</li>
<li>我们需要通过一个配置来选择需要激活的环境：</li>
</ul>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment">#比如在配置文件中指定使用dev环境，我们可以通过设置不同的端口号进行测试；</span></span><br><span class="line"><span class="comment">#我们启动SpringBoot，就可以看到已经切换到dev下的配置了；</span></span><br><span class="line"><span class="string">spring.profiles.active=dev</span></span><br><span class="line"><span class="number">123</span></span><br></pre></td></tr></table></figure>

<h4 id="2、yaml的多文档块"><a href="#2、yaml的多文档块" class="headerlink" title="2、yaml的多文档块"></a>2、yaml的多文档块</h4><p><a href="https://blog.csdn.net/m0_37989980/article/details/105106583#j0" target="_blank" rel="noopener">跳转到目录</a></p>
<ul>
<li>和<code>properties</code>配置文件中一样，但是使用<code>yml</code>去实现不需要创建多个配置文件，更加方便了 !</li>
</ul>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">server:</span></span><br><span class="line">  <span class="attr">port:</span> <span class="number">8081</span></span><br><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">profiles:</span></span><br><span class="line">    <span class="attr">active:</span> <span class="string">dev</span></span><br><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="attr">server:</span></span><br><span class="line">  <span class="attr">port:</span> <span class="number">8083</span></span><br><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">profiles:</span> <span class="string">dev</span> <span class="comment"># 配置环境的名称</span></span><br><span class="line"></span><br><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="attr">server:</span></span><br><span class="line">  <span class="attr">port:</span> <span class="number">8084</span></span><br><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">profiles:</span> <span class="string">prod</span></span><br><span class="line"><span class="number">12345678910111213141516</span></span><br></pre></td></tr></table></figure>

<p><strong>注意：如果yml和properties同时都配置了端口，并且没有激活其他环境 ， <code>默认会使用properties</code>配置文件的！</strong></p>
<h4 id="3、配置文件的加载位置"><a href="#3、配置文件的加载位置" class="headerlink" title="3、配置文件的加载位置"></a>3、配置文件的加载位置</h4><p><a href="https://blog.csdn.net/m0_37989980/article/details/105106583#j0" target="_blank" rel="noopener">跳转到目录</a></p>
<ul>
<li><code>官方外部配置文件说明参考文档</code><br><img src="https://img-blog.csdnimg.cn/20200331181915315.png" alt="在这里插入图片描述"></li>
<li>springboot 启动会扫描以下位置的application.properties或者application.yml文件作为Spring boot的<code>默认配置</code>文件：</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">优先级1：项目路径下的config文件夹配置文件</span><br><span class="line">优先级2：项目路径下配置文件</span><br><span class="line">优先级3：资源路径下的config文件夹配置文件</span><br><span class="line">优先级4：资源路径下配置文件</span><br><span class="line">1234</span><br></pre></td></tr></table></figure>

<ul>
<li>优先级由高到底，高优先级的配置会覆盖低优先级的配置；</li>
</ul>
<p>SpringBoot会从这四个位置全部加载主配置文件；<code>互补配置</code>；</p>
<p>我们在<code>最低级的配置文件</code>中设置一个项目访问路径的配置来测试互补问题；</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment">#配置项目的访问路径</span></span><br><span class="line"><span class="string">server.servlet.context-path=/zy</span></span><br><span class="line"><span class="number">12</span></span><br></pre></td></tr></table></figure>

<ul>
<li>我们还可以通过spring.config.location来改变默认的配置文件位置</li>
</ul>
<p>项目打包好以后，我们可以使用命令行参数的形式，启动项目的时候来指定配置文件的新位置；这种情况，一般是后期运维做的多，相同配置，外部指定的配置文件优先级最高;</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="string">java</span> <span class="string">-jar</span> <span class="string">spring-boot-02-config-02-0.0.1-SNAPSHOT.jar</span> <span class="string">--spring.config.location=G:/application.properties</span></span><br></pre></td></tr></table></figure></div><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:undefined">陈涛</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="https://somunstao.github.io/2020/03/03/SpringBoot03%EF%BC%9ASpringBoot%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E3%80%81yaml%E8%AF%AD%E6%B3%95%E3%80%81JSR303%E6%A0%A1%E9%AA%8C%E3%80%81%E5%A4%9A%E7%8E%AF%E5%A2%83%E5%88%87%E6%8D%A2Profile/">https://somunstao.github.io/2020/03/03/SpringBoot03：SpringBoot配置文件、yaml语法、JSR303校验、多环境切换Profile/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://SomunsTao.github.io" target="_blank">Somuns ` Tao</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/SpringBoot/">SpringBoot</a></div><div class="post_share"><div class="social-share" data-image="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css"/><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js"></script></div></div><div class="post-reward"><a class="reward-button button--primary button--animated"> <i class="fa fa-qrcode"></i> 打赏<div class="reward-main"><ul class="reward-all"><li class="reward-item"><img class="post-qr-code__img" src="/img/wechat.jpg" alt="微信"/><div class="post-qr-code__desc">微信</div></li><li class="reward-item"><img class="post-qr-code__img" src="/img/alipay.jpg" alt="支付寶"/><div class="post-qr-code__desc">支付寶</div></li></ul></div></a></div><nav class="pagination_post" id="pagination"><div class="prev-post pull_left"><a href="/2020/03/04/SpringMVC%204%E2%80%94%E2%80%94%E5%A4%84%E7%90%86%E5%99%A8%E6%96%B9%E6%B3%95%E5%8F%82%E6%95%B0%E7%9A%84%E5%A4%84%E7%90%86/"><img class="prev_cover" src="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg" onerror="onerror=null;src='/img/404.jpg'"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">SpringMVC 4——处理器方法参数的处理</div></div></a></div><div class="next-post pull_right"><a href="/2020/03/03/SpringMVC%203%E2%80%94%E2%80%94%E9%9D%99%E6%80%81%E8%B5%84%E6%BA%90%E8%AE%BF%E9%97%AE%E9%97%AE%E9%A2%98%E3%80%81%E5%A4%84%E7%90%86%E5%99%A8%E6%96%B9%E6%B3%95%E5%93%8D%E5%BA%94%E7%B1%BB%E5%9E%8B%E3%80%81%E8%AF%B7%E6%B1%82%E8%BD%AC%E5%8F%91%E3%80%81URL%E9%87%8D%E5%AE%9A%E5%90%91/"><img class="next_cover" src="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg" onerror="onerror=null;src='/img/404.jpg'"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">SpringMVC 3——静态资源访问问题、处理器方法响应类型、请求转发、URL重定向</div></div></a></div></nav><div class="relatedPosts"><div class="relatedPosts_headline"><i class="fa fa-fw fa-thumbs-up" aria-hidden="true"></i><span> 相关推荐</span></div><div class="relatedPosts_list"><div class="relatedPosts_item"><a href="/2020/04/01/Spring Data JPA 01：JPA——ORM概述、JPA入门/" title="SpringData JPA 01：JPA——ORM概述、JPA入门"><img class="relatedPosts_cover" src="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2020-04-01</div><div class="relatedPosts_title">SpringData JPA 01：JPA——ORM概述、JPA入门</div></div></a></div><div class="relatedPosts_item"><a href="/2020/04/02/Spring Data JPA 02：JPA——API介绍、完成JPA的CRUD操作、JPQL完成复杂查询操作/" title="SpringData JPA 02：JPA——API介绍、完成JPA的CRUD操作、JPQL完成复杂查询操作"><img class="relatedPosts_cover" src="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2020-04-02</div><div class="relatedPosts_title">SpringData JPA 02：JPA——API介绍、完成JPA的CRUD操作、JPQL完成复杂查询操作</div></div></a></div><div class="relatedPosts_item"><a href="/2020/04/03/Spring Data JPA 03——概述、Spring Data JPA的CRUD操作/" title="SpringData JPA 03——概述、Spring Data JPA的CRUD操作"><img class="relatedPosts_cover" src="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2020-04-03</div><div class="relatedPosts_title">SpringData JPA 03——概述、Spring Data JPA的CRUD操作</div></div></a></div><div class="relatedPosts_item"><a href="/2020/04/04/Spring Data JPA 04——原理剖析、Spring Data JPA的四种查询方式/" title="SpringData JPA 04——原理剖析、Spring Data JPA的四种查询方式"><img class="relatedPosts_cover" src="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2020-04-04</div><div class="relatedPosts_title">SpringData JPA 04——原理剖析、Spring Data JPA的四种查询方式</div></div></a></div><div class="relatedPosts_item"><a href="/2020/04/05/Spring Data JPA 05——Specifications动态查询/" title="SpringData JPA 05——Specifications动态查询"><img class="relatedPosts_cover" src="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2020-04-05</div><div class="relatedPosts_title">SpringData JPA 05——Specifications动态查询</div></div></a></div><div class="relatedPosts_item"><a href="/2020/04/06/Spring Data JPA 06——多表设计、一对多、多对多、多表查询/" title="SpringData JPA 06——多表设计、一对多、多对多、多表查询"><img class="relatedPosts_cover" src="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2020-04-06</div><div class="relatedPosts_title">SpringData JPA 06——多表设计、一对多、多对多、多表查询</div></div></a></div></div><div class="clear_both"></div></div><hr><div id="post-comment"><div class="comment_headling"><i class="fa fa-comments fa-fw" aria-hidden="true"></i><span> 评论</span></div><div id="lv-container" data-id="city" data-uid="MTAyMC80OTk1Ni8yNjQ0Nw=="><script>(function(d, s) {
    var j, e = d.getElementsByTagName(s)[0];
    if (typeof LivereTower === 'function') { return; }
    j = d.createElement(s);
    j.src = 'https://cdn-city.livere.com/js/embed.dist.js';
    j.async = true;
    e.parentNode.insertBefore(j, e);
})(document, 'script');</script></div></div></article></main><footer id="footer" data-type="color"><div id="footer-wrap"><div class="copyright">&copy;2020 By 陈涛</div><div class="framework-info"><span>驱动 </span><a href="https://hexo.io" target="_blank" rel="noopener"><span>Hexo</span></a><span class="footer-separator">|</span><span>主题 </span><a href="https://github.com/jerryc127/hexo-theme-butterfly" target="_blank" rel="noopener"><span>Butterfly</span></a></div></div></footer></div><section class="rightside" id="rightside"><div id="rightside-config-hide"><i class="fa fa-book" id="readmode" title="阅读模式"></i><i class="fa fa-plus" id="font_plus" title="放大字体"></i><i class="fa fa-minus" id="font_minus" title="缩小字体"></i><a class="translate_chn_to_cht" id="translateLink" href="javascript:translatePage();" title="简繁转换" target="_self">簡</a><i class="darkmode far fa-moon" id="darkmode" title="夜间模式"></i></div><div id="rightside-config-show"><div id="rightside_config" title="设置"><i class="fa fa-cog" aria-hidden="true"></i></div><a id="to_comment" href="#post-comment" title="直达评论"><i class="scroll_to_comment fa fa-comments">  </i></a><i class="fa fa-list-ul close" id="mobile-toc-button" title="目录" aria-hidden="true"></i><i class="fa fa-arrow-up" id="go-up" title="回到顶部" aria-hidden="true"></i></div></section><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script defer id="ribbon" src="/js/third-party/canvas-ribbon.js" size="150" alpha="0.6" zIndex="-1" mobile="true" data-click="true"></script><script id="ribbon_piao" mobile="true" src="/js/third-party/piao.js"></script><script id="canvas_nest" color="0,0,255" opacity="0.7" zIndex="-1" count="99" mobile="true" src="/js/third-party/canvas-nest.js"></script><script src="/js/third-party/activate-power-mode.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = true;
document.body.addEventListener('input', POWERMODE);
</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page@latest/instantpage.min.js" type="module"></script><script src="/js/third-party/click_heart.js"></script></body></html>